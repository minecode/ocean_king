(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{139:function(e,t,n){e.exports=n.p+"static/media/flag.c3ce17b2.png"},301:function(e,t,n){e.exports=n.p+"static/media/pirate_1.3d8dcf90.png"},302:function(e,t,n){e.exports=n.p+"static/media/pirate_2.1c90b468.png"},303:function(e,t,n){e.exports=n.p+"static/media/f.fc7bbdf9.png"},304:function(e,t,n){e.exports=n.p+"static/media/p.be2dc243.png"},376:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),l=n.n(o),c=n(19),s=n.n(c),i=n(2),u=n(5),f=n(42),m=n(3).a.create({container:{flex:1,backgroundColor:"#212121",justifyContent:"center",marginVertical:20},row:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginHorizontal:20}}),d=n(332),p=Object(d.create)({baseURL:"https://skull-king-game.herokuapp.com/"});function g(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(p.post(e,JSON.stringify(t),{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){throw e})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),null,null,null,Promise)}function y(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(p.get(e,t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){throw e})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),null,null,null,Promise)}p.addAsyncResponseTransform((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw e;case 2:case"end":return t.stop()}}),null,null,null,Promise)}));var w=null,h=null;function b(e){return Object(a.useEffect)((function(){"web"!==u.a.OS&&w("EMULATOR")}),[]),r.a.createElement(r.a.Fragment,null,"web"!==u.a.OS&&r.a.createElement(h,{bannerSize:"fullBanner",adUnitID:"ca-app-pub-7606799175531903/7143162423",servePersonalizedAds:!0,bannerSize:"smartBannerLandscape"}))}"web"!==u.a.OS&&(w=n(176).setTestDeviceIDAsync,h=n(176).AdMobBanner);var E=n(9);function x(e){return r.a.createElement(i.a,{style:[m.row,{justifyContent:"flex-start",marginBottom:20}]},r.a.createElement(E.a,{style:{color:"#a1a1a1"}},"web"===u.a.OS&&"web"," v202004101500"))}function S(e){return r.a.createElement(r.a.Fragment,null,e.title&&r.a.createElement(i.a,{style:[m.row,{justifyContent:"center",marginVertical:20}]},r.a.createElement(E.a,{style:[{fontSize:30,fontWeight:"bold",color:"#f1f1f1",textAlign:"center"},e.style]},e.title)))}function v(e){return r.a.createElement(r.a.Fragment,null,null!==e.error&&r.a.createElement(i.a,{style:[m.row,{justifyContent:"center",alignItems:"center"}]},r.a.createElement(E.a,{style:{color:"red",textAlign:"center"}},e.error)))}var C=n(33);function k(e){return r.a.createElement(i.a,{style:[m.row,{justifyContent:"center"}]},r.a.createElement(C.b,{source:n(585),style:{width:200,height:200},placeholderStyle:{backgroundColor:"transparent"}}))}var O=n(22),j=n(25);function P(e){var t=j.a.get("window").width;return r.a.createElement(O.a,{style:{backgroundColor:e.firstColor,height:e.small?40:50,width:e.small?40:"web"===u.a.OS?240:(t-45)/2,borderRadius:25,marginLeft:(u.a.OS,10),marginRight:(u.a.OS,10),marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:e.action},e.icon&&r.a.createElement(C.a,{name:e.icon,color:e.secondColor,type:"font-awesome",iconStyle:{margin:10}}),e.text&&r.a.createElement(E.a,{style:{color:e.secondColor,margin:5,fontWeight:"bold"}},e.text))}var _=n(184);function I(e){return r.a.createElement(i.a,{style:[m.row,{justifyContent:"center",marginTop:20}]},r.a.createElement(O.a,{onPress:function(){_.a.openURL("https://github.com/fabiohfab")}},r.a.createElement(E.a,{style:{color:"#f1f1f1"}},"Created by F\xe1bio Henriques")))}function T(e){var t,n,a=arguments;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=a.length>1&&void 0!==a[1]&&a[1],n=null,"web"===u.a.OS){r.next=11;break}return r.next=5,l.a.awrap(AsyncStorage.getItem("@ocean_king:user",null));case 5:return n=r.sent,r.next=8,l.a.awrap(AsyncStorage.getItem("@ocean_king:username",null));case 8:name=r.sent,r.next=13;break;case 11:n=localStorage.getItem("@ocean_king:user",null),name=localStorage.getItem("@ocean_king:username",null);case 13:if(t){r.next=17;break}null!=n&&e({index:1,routes:[{name:"Home"}]}),r.next=22;break;case 17:if(null===n||null===name){r.next=21;break}return r.abrupt("return",{user:n,username:name});case 21:e({index:1,routes:[{name:"Login"}]});case 22:case"end":return r.stop()}}),null,null,null,Promise)}function z(e){var t=Object(a.useState)(null),n=s()(t,2),o=n[0],c=n[1],d=Object(a.useState)(null),p=s()(d,2),w=p[0],h=p[1],E=Object(a.useState)(!1),C=s()(E,2),O=C[0],j=C[1],_=e.navigation,z=_.navigate,R=_.reset;return Object(a.useEffect)((function(){!function(){var e,t,n;l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(T(R,!0));case 2:e=a.sent,t=e.user,n=e.username,c(t),h(n);case 7:case"end":return a.stop()}}),null,null,null,Promise)}()}),[]),Object(a.useEffect)((function(){null!=o&&null!=w&&l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(y("/game/inGame",{user:o}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.data.inGame&&R({index:1,routes:[{name:"Game",params:{game:e.data.game._id}}]});case 1:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){})));case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[o,w]),r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(b,null),r.a.createElement(i.a,{style:m.container},r.a.createElement(k,null),r.a.createElement(S,{title:w,style:{fontSize:15,fontWeight:"normal"}}),r.a.createElement(v,{error:O}),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,marginTop:20,justifyContent:"web"===u.a.OS?"center":"space-between"}]},r.a.createElement(P,{text:"New game",icon:"gamepad",action:function(){l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,l.a.awrap(g("/game",{user:o}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:R({index:1,routes:[{name:"Game",params:{game:e.data.game._id}}]});case 1:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){console.log(e)})));case 3:e.next=6;break;case 5:j("Please, logout and try again");case 6:case"end":return e.stop()}}),null,null,null,Promise)},firstColor:"#142850",secondColor:"#f1f1f1"}),r.a.createElement(P,{text:"Join game",icon:"server",action:function(){z("Join")},firstColor:"#142850",secondColor:"#f1f1f1"})),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"web"===u.a.OS?"center":"space-between"}]},r.a.createElement(P,{text:"Scoreboards",icon:"list",action:function(){z("Scoreboards")},firstColor:"#27496d",secondColor:"#f1f1f1"}),r.a.createElement(P,{text:"Settings",icon:"cogs",action:function(){z("Settings")},firstColor:"#27496d",secondColor:"#f1f1f1"})),r.a.createElement(I,null)),r.a.createElement(x,null))}n(378);var R=n(100),L=null;function A(e){var t=Object(a.useState)(null),n=s()(t,2),o=n[0],c=n[1],f=j.a.get("window").width,d=e.reset;function p(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.data.dataBase_user){t.next=7;break}return t.next=3,l.a.awrap(AsyncStorage.setItem("@ocean_king:user",e.data.dataBase_user._id));case 3:return t.next=5,l.a.awrap(AsyncStorage.setItem("@ocean_king:username",e.data.dataBase_user.name));case 5:t.next=11;break;case 7:return t.next=9,l.a.awrap(AsyncStorage.setItem("@ocean_king:user",e.data.new_user._id));case 9:return t.next=11,l.a.awrap(AsyncStorage.setItem("@ocean_king:username",e.data.new_user.name));case 11:d({index:1,routes:[{name:"Home"}]});case 12:case"end":return t.stop()}}),null,null,null,Promise)}var y=function(){var e,t,n,a,r,o;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:s.next=21;break;case 4:if(e=s.sent,t=e.type,e.accessToken,n=e.user,"success"!==t){s.next=13;break}return s.next=11,l.a.awrap(g("/auth/googleLogin/",{user:n}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(p(e));case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){console.log(e),c("Authentication fail code: 3")})));case 11:s.next=14;break;case 13:console.log("cancelled");case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(1),console.log("error",s.t0);case 19:s.next=40;break;case 21:return s.prev=21,s.next=24,l.a.awrap(R.a());case 24:return s.next=26,l.a.awrap(R.d());case 26:if(a=s.sent,r=a.type,o=a.user,"success"!==r){s.next=34;break}return s.next=32,l.a.awrap(g("/auth/googleLogin/",{user:o}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(p(e));case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){c("Authentication fail code: 0")})));case 32:s.next=35;break;case 34:c("Authentication fail code: 1");case 35:s.next=40;break;case 37:s.prev=37,s.t1=s.catch(21),c("Authentication fail code: 2"+s.t1.message);case 40:case"end":return s.stop()}}),null,null,[[1,16],[21,37]],Promise)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{error:o}),r.a.createElement(i.a,{style:[m.row,{justifyContent:"center"}]},r.a.createElement(O.a,{style:{backgroundColor:"#142850",height:50,width:"web"===u.a.OS?500:f-30,borderRadius:25,marginLeft:10,marginRight:10,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:"web"===u.a.OS?e.renderProps.onClick:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(y());case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.a,{name:"google",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Sign in with google"))))}function W(e){var t=Object(a.useState)(null),n=s()(t,2),o=n[0],c=n[1],f=Object(a.useState)(!1),d=s()(f,2),p=d[0],y=d[1],w=e.reset;return Object(a.useEffect)((function(){"web"!==u.a.OS&&l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(R.c());case 2:case"end":return e.stop()}}),null,null,null,Promise)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{error:o}),r.a.createElement(v,{error:p}),"web"===u.a.OS&&r.a.createElement(i.a,{style:[m.row,{justifyContent:"center"}]},r.a.createElement(L,{clientId:"150873780761-chl8dvdsnlv89sqqlgj20t9oojpcjp8i.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(g("/auth/googleLogin/",{user:{email:e.profileObj.email,name:e.profileObj.name,imageURL:e.profileObj.imageUrl}}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==e.data.dataBase_user?(localStorage.setItem("@ocean_king:user",e.data.dataBase_user._id),localStorage.setItem("@ocean_king:username",e.data.dataBase_user.name)):(localStorage.setItem("@ocean_king:user",e.data.new_user._id),localStorage.setItem("@ocean_king:username",e.data.new_user.name)),w({index:1,routes:[{name:"Home"}]});case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){c("Authentication fail")})));case 2:case"end":return t.stop()}}),null,null,null,Promise)},onFailure:function(e){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:y("Authentication failed code: -1");case 1:case"end":return e.stop()}}),null,null,null,Promise)},cookiePolicy:"single_host_origin",scope:"profile email openid",render:function(e){return r.a.createElement(A,{reset:w,renderProps:e})}})),"web"!==u.a.OS&&r.a.createElement(A,{reset:w}))}function H(e){var t=e.navigation.reset;return Object(a.useEffect)((function(){T(t)}),[]),r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(b,null),r.a.createElement(i.a,{style:m.container},r.a.createElement(k,null),r.a.createElement(S,{title:"Login"}),r.a.createElement(W,{reset:t}),r.a.createElement(I,null)),r.a.createElement(x,null))}"web"!==u.a.OS?AsyncStorage=n(108).AsyncStorage:L=n(588).GoogleLogin;var D=n(36),B=n(82),V=n(62),G=n(156),M=n.n(G),N=n(49),F=null;function J(e){var t=j.a.get("window"),n=t.height,a=t.width;return console.log(e),r.a.createElement(r.a.Fragment,null,"web"!==u.a.OS&&r.a.createElement(F,{isVisible:e.visible,deviceHeight:n+N.a.currentHeight,coverScreen:!1,backdropColor:"#212121",backdropOpacity:.8},e.content),"web"===u.a.OS&&e.visible&&r.a.createElement(i.a,{style:[{width:a,height:n,position:"absolute",alignContent:"center",justifyContent:"center",backgroundColor:"#21212180"}]},e.content))}function U(e){var t=e.gameState,n=e.players,a=e.game,o=e.user,c=e.newMessage,s=e.setNewMessage,u=e.navigate,f=e.socket,d=e.room,p=e.startGame,g=e.leaveGame;return t&&"in queue"===t?r.a.createElement(i.a,{style:[m.container,{alignItems:"center"}]},r.a.createElement(i.a,null,r.a.createElement(i.a,{style:m.row},r.a.createElement(E.a,{style:{fontSize:30,fontWeight:"bold",color:"#f1f1f1"}},"Players")),n&&0!==n.length&&n.map((function(e,t){return r.a.createElement(i.a,{style:m.row,key:t},r.a.createElement(E.a,{style:{color:"#f1f1f1"}},e.player.name))}))),r.a.createElement(i.a,{style:[m.row,{marginTop:20}]},r.a.createElement(P,{icon:"comments",firstColor:c?"#2177aa":"#f1f1f1",secondColor:c?"#f1f1f1":"#212121",action:function(){s(!1),u("Chat",{socket:f,room:d,user:o})}})),o&&a&&a.createdBy&&o==a.createdBy._id&&n&&n.length>=2&&n.length<=6&&r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"center"}]},r.a.createElement(P,{icon:"play",firstColor:"#27496d",secondColor:"#f1f1f1",action:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(p());case 2:case"end":return e.stop()}}),null,null,null,Promise)}})),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"center"}]},r.a.createElement(P,{icon:"sign-out",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(g());case 2:case"end":return e.stop()}}),null,null,null,Promise)}}))):null}"web"!==u.a.OS&&(F=n(92).default);var q=n(28),K=n.n(q),Q=(n(92),n(6)),X=n.n(Q),Y=n(157);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){X()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={socket:null,room:null};var te=Object(Y.b)({socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SOCKET":return $({},e,{socket:t.socket,room:t.room});case"REMOVE_SOCKET":return $({},e,{socket:null,room:null});default:return e}}}),ne=Object(Y.c)(te);function ae(e){var t={red:n(619),blue:n(620),yellow:n(621),black:n(622),flag1:n(139),flag2:n(139),flag3:n(139),flag4:n(139),flag5:n(139),m1:n(623),m2:n(624),p1:n(301),p2:n(302),p3:n(625),p4:n(301),p5:n(302),sk:n(626),1:n(627),2:n(628),3:n(629),4:n(630),5:n(631),6:n(632),7:n(633),8:n(634),9:n(635),10:n(636),11:n(637),12:n(638),13:n(639),back:n(640),binary:n(641),f:n(303),p:n(304)},a=e.overlay?.3:1;return r.a.createElement(C.b,{source:t[e.color],style:{width:75.9,height:124.2},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}},("red"===e.color||"blue"===e.color||"yellow"===e.color||"black"===e.color)&&r.a.createElement(i.a,null,r.a.createElement(i.a,{style:{marginLeft:2.5,marginTop:3,position:"absolute"}},r.a.createElement(C.b,{source:t[e.value],style:{width:20.3,height:20.3},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(i.a,{style:{marginLeft:54.2,marginTop:102,position:"absolute"}},r.a.createElement(C.b,{source:t[e.value],style:{width:20.3,height:20.3},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}}))),"binary"==e.color&&"0"!==e.value&&r.a.createElement(i.a,null,r.a.createElement(i.a,{style:{marginLeft:2.5,marginTop:3,position:"absolute"}},r.a.createElement(C.b,{source:t[e.value],style:{width:20.3,height:20.3},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(i.a,{style:{marginLeft:54.2,marginTop:102,position:"absolute"}},r.a.createElement(C.b,{source:t[e.value],style:{width:20.3,height:20.3},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}}))))}function re(e){var t=Object(a.useState)(!1),n=s()(t,2),o=n[0],c=n[1],u=Object(a.useState)(null),f=s()(u,2),d=f[0],p=f[1],g=Object(a.useState)(!1),y=s()(g,2),w=y[0],h=y[1];return Object(a.useEffect)((function(){if(null===e.playedCardsState||void 0===e.playedCardsState||e.disabled||null===e.cards||void 0===e.cards||e.currentPlayer!==e.user)c(!1),p(!1),h(!1);else{var t=!1;e.playedCardsState.sort((function(e,t){return e.createdAt<t.createdAt?-1:1})).map((function(e,n){t||"yellow"!==e.card[0].color&&"red"!==e.card[0].color&&"blue"!==e.card[0].color&&"black"!==e.card[0].color||(c(!0),p(e.card[0].color),t=!0)}))}}),[e.playedCardsState,e.disabled,e.currentPlayer,e.user]),Object(a.useEffect)((function(){o&&d&&e.cards&&e.cards.map((function(e,t){e.color===d&&h(!0)}))}),[o,d,e.cards]),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,marginBottom:20}]},r.a.createElement(D.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,decelerationRate:0,snapToInterval:80,snapToAlignment:"center",contentInset:{top:0,left:0,bottom:0,right:0},pagingEnabled:!1,contentContainerStyle:{flexGrow:1,justifyContent:"center"}},e.cards&&0!==e.cards.length&&e.cards.map((function(t,n){return r.a.createElement(i.a,{key:n,style:{marginHorizontal:5,elevation:n+5}},!e.disabled&&r.a.createElement(O.a,{onPress:function(){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.currentPlayer===e.user&&(w&&o&&null!==d&&t.color!==d&&("red"===t.color||"yellow"===t.color||"blue"===t.color||"black"===t.color)||(e.setOpen(!0),e.setCardToPlay(t)));case 1:case"end":return n.stop()}}),null,null,null,Promise)}},e.currentPlayer!==e.user&&r.a.createElement(ae,{color:t.color,value:t.value,overlay:!0}),e.currentPlayer===e.user&&r.a.createElement(ae,{color:t.color,value:t.value,overlay:w&&o&&null!==d&&t.color!==d&&!("red"!==t.color&&"yellow"!==t.color&&"blue"!==t.color&&"black"!==t.color)})),e.disabled&&r.a.createElement(ae,{color:t.color,value:t.value,overlay:!1}))}))))}function oe(e){var t=e.gameState,n=e.alreadyBet,a=e.user,o=e.newMessage,c=e.setNewMessage,s=e.navigate,u=e.socket,f=e.room,d=e.leaveGame,p=e.cards,g=e.maxBets,y=e.pontuations,w=e.placeBet;return t&&"place bets"===t&&n?r.a.createElement(i.a,{style:m.container},r.a.createElement(S,{title:"Waiting for other players...",style:{fontSize:25}}),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"center",marginBottom:20}]},r.a.createElement(P,{icon:"comments",firstColor:o?"#2177aa":"#f1f1f1",secondColor:o?"#f1f1f1":"#212121",action:function(){c(!1),s("Chat",{socket:u,room:f,user:a})},small:!0}),r.a.createElement(P,{icon:"sign-out",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(d());case 2:case"end":return e.stop()}}),null,null,null,Promise)},small:!0})),r.a.createElement(re,{cards:p,disabled:!0})):t&&"place bets"===t&&!n?r.a.createElement(i.a,{style:[m.container,{marginVertical:0,justifyContent:"space-between"}]},r.a.createElement(i.a,{style:[m.row,{marginTop:20}]},r.a.createElement(E.a,{style:{fontSize:25,fontWeight:"bold",color:"#f1f1f1",marginHorizontal:10}},"Round ",g),r.a.createElement(P,{icon:"list",firstColor:"#21b121",secondColor:"#f1f1f1",action:function(){s("Pontuations",{pontuations:y})},small:!0}),r.a.createElement(P,{icon:"comments",action:function(){c(!1),s("Chat",{socket:u,room:f,user:a})},firstColor:o?"#2177aa":"#f1f1f1",secondColor:o?"#f1f1f1":"#212121",small:!0}),r.a.createElement(P,{icon:"sign-out",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(d());case 2:case"end":return e.stop()}}),null,null,null,Promise)},small:!0})),r.a.createElement(i.a,{style:[m.row,{flexWrap:"wrap"}]},null!==g&&K()(Array(g+1)).map((function(e,t){return r.a.createElement(O.a,{key:t,style:{backgroundColor:"#2177aa",height:40,width:80,borderRadius:20,alignItems:"center",justifyContent:"center",margin:5},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(w(t));case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(E.a,{style:{color:"#f1f1f1",fontSize:20}},parseInt(t)))})),null!==g&&K()(Array(10-g)).map((function(e,t){return r.a.createElement(O.a,{key:t,style:{backgroundColor:"#41414190",height:40,width:80,borderRadius:20,alignItems:"center",justifyContent:"center",margin:5},disabled:!0},r.a.createElement(E.a,{style:{color:"#f1f1f190",fontSize:20}},parseInt(t+1+g)))}))),r.a.createElement(re,{cards:p,disabled:!0})):null}function le(e){var t=e.betsState,n=e.tempResults,a=e.currentPlayer,o=e.playedCardsState;return t&&n?r.a.createElement(i.a,{style:[m.row,{justifyContent:"center",flexWrap:"wrap",margin:0}]},t.map((function(t,l){return r.a.createElement(i.a,{key:l,style:{alignItems:"center",margin:10}},t&&r.a.createElement(E.a,{style:{fontSize:15,fontWeight:"bold",color:t.player._id===a?"#21b121":"#f1f1f1"}},t.player.name.split(" ")[0]),o&&t&&o.map((function(n,a){if(n.player._id===t.player._id)return r.a.createElement(ae,{key:a,color:n.card[0].color,value:n.card[0].value,overlay:!!e.displayWinner&&t.player._id!==e.displayWinner})})),t&&r.a.createElement(E.a,{style:{fontSize:15,fontWeight:"bold",color:t.player._id===a?"#21b121":"#f1f1f1"}},n[t.player._id],"/",t.value))}))):null}function ce(e){var t=e.user,n=e.socket,a=e.room,o=e.gameState,c=e.maxBets,s=e.navigate,u=e.pontuations,f=e.setNewMessage,d=e.newMessage,p=e.leaveGame,g=e.betsState,y=e.tempResults,w=e.playedCardsState,h=e.currentPlayer,b=e.setCurrentPlayer,x=e.cards,S=e.game,v=e.setTempCard,C=e.playCard,k=e.setChoiceVisible,O=e.displayWinner,j=e.open,_=e.setOpen,I=e.cardToPlay,T=e.setCardToPlay;return o&&"in game"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{style:[m.container,{marginVertical:0,justifyContent:"space-between"}]},r.a.createElement(i.a,{style:[m.row,{marginTop:20}]},r.a.createElement(E.a,{style:{fontSize:25,fontWeight:"bold",color:"#f1f1f1",marginHorizontal:10}},"Round ",c),r.a.createElement(P,{icon:"list",firstColor:"#21b121",secondColor:"#f1f1f1",action:function(){s("Pontuations",{pontuations:u})},small:!0}),r.a.createElement(P,{icon:"comments",action:function(){f(!1),s("Chat",{socket:n,room:a,user:t})},firstColor:d?"#2177aa":"#f1f1f1",secondColor:d?"#f1f1f1":"#212121",small:!0}),r.a.createElement(P,{icon:"sign-out",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(p());case 2:case"end":return e.stop()}}),null,null,null,Promise)},small:!0})),r.a.createElement(le,{currentPlayer:h,playedCardsState:w,tempResults:y,betsState:g,displayWinner:O}),r.a.createElement(re,{cards:x,disabled:!1,user:t,game:S,currentPlayer:h,setCurrentPlayer:b,setTempCard:v,playCard:C,playedCardsState:w,setChoiceVisible:k,open:j,setOpen:_,cardToPlay:I,setCardToPlay:T}))):null}function se(e){return e.pontuations?r.a.createElement(i.a,{style:{flex:1,justifyContent:"flex-start",marginVertical:20}},r.a.createElement(i.a,{style:[m.row,{justifyContent:"flex-start"}]},r.a.createElement(C.a,{name:"list",color:"#f1f1f1",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(S,{title:"Scores"})),e.pontuations.map((function(e,t){return r.a.createElement(i.a,{style:[m.row,{justifyContent:"space-between"}],key:t},r.a.createElement(E.a,{style:{fontSize:15,fontWeight:"bold",color:"#f1f1f1",marginHorizontal:5}},e.player.name,":"," "),r.a.createElement(E.a,{style:{backgroundColor:"#212121",borderRadius:20,paddingHorizontal:5,color:"#f1f1f1",fontWeight:"bold"}},e.points))}))):r.a.createElement(i.a,{style:{flex:1,justifyContent:"space-between",marginVertical:20}})}function ie(e){return!e.gameState||"finished"!==e.gameState&&"canceled"!==e.gameState?null:r.a.createElement(i.a,{style:[m.container,{alignItems:"center"}]},!e.pontuations&&r.a.createElement(S,{title:"Waiting for scores..."}),r.a.createElement(se,{pontuations:e.pontuations}),r.a.createElement(i.a,{style:[m.container,{marginVertical:0,justifyContent:"space-between"}]},r.a.createElement(i.a,{style:[m.row,{marginTop:20}]},r.a.createElement(P,{icon:"comments",action:function(){e.setNewMessage(!1),e.navigate("Chat",{socket:e.socket,room:e.room,user:e.user})},firstColor:e.newMessage?"#2177aa":"#f1f1f1",secondColor:e.newMessage?"#f1f1f1":"#212121",small:!0}),r.a.createElement(P,{icon:"sign-out",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(e.leaveGame());case 2:case"end":return t.stop()}}),null,null,null,Promise)},small:!0}))))}function ue(e){var t=Object(a.useState)(null),o=s()(t,2),c=o[0],m=o[1],d=Object(a.useState)(null),p=s()(d,2),w=p[0],h=p[1],E=Object(a.useState)(null),x=s()(E,2),S=x[0],v=x[1],k=Object(a.useState)(null),j=s()(k,2),_=j[0],I=j[1],z=Object(a.useState)(null),R=s()(z,2),L=R[0],A=R[1],W=Object(a.useState)(null),H=s()(W,2),G=H[0],N=H[1],F=Object(a.useState)(!1),q=s()(F,2),K=q[0],Q=q[1],X=Object(a.useState)("in queue"),Y=s()(X,2),Z=Y[0],$=Y[1],ee=Object(a.useState)(null),te=s()(ee,2),ne=te[0],re=te[1],le=Object(a.useState)(null),se=s()(le,2),ue=se[0],fe=se[1],me=Object(a.useState)(null),de=s()(me,2),pe=de[0],ge=de[1],ye=Object(a.useState)(!1),we=s()(ye,2),he=we[0],be=we[1],Ee=Object(a.useState)(null),xe=s()(Ee,2),Se=xe[0],ve=xe[1],Ce=Object(a.useState)(null),ke=s()(Ce,2),Oe=ke[0],je=ke[1],Pe=Object(a.useState)(null),_e=s()(Pe,2),Ie=_e[0],Te=_e[1],ze=Object(a.useState)(null),Re=s()(ze,2),Le=Re[0],Ae=Re[1],We=Object(a.useState)(!1),He=s()(We,2),De=He[0],Be=He[1],Ve=Object(a.useState)(null),Ge=s()(Ve,2),Me=Ge[0],Ne=Ge[1],Fe=Object(a.useState)(null),Je=s()(Fe,2),Ue=Je[0],qe=Je[1],Ke=Object(a.useState)(!1),Qe=s()(Ke,2),Xe=Qe[0],Ye=Qe[1],Ze=Object(a.useState)(!1),$e=s()(Ze,2),et=$e[0],tt=$e[1],nt=Object(a.useState)(null),at=s()(nt,2),rt=at[0],ot=at[1],lt=e.navigation,ct=lt.navigate,st=lt.reset;function it(t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:Q(!0),"active"===t&&(null!==Me?null!==c&&null!==G&&null!==Ue&&pt(Ue):null!==c&&null!==G&&null!==Ue&&(Ne(M()("https://skull-king-game.herokuapp.com",{transports:["websocket"],autoConnect:!0})),qe(e.route.params.game))),Q(!1);case 3:case"end":return n.stop()}}),null,null,null,Promise)}function ut(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/pontuations",{game:e}).then((function(e){e.data.pontuations.sort((function(e,t){return e.points>t.points?-1:1})),A(e.data.pontuations),Q(!1)})).catch((function(e){Q(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function ft(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/cards",{user:c,game:e}).then((function(e){I(e.data.cards.cards)})).catch((function(e){Q(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function mt(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/playersStatus",{game:e}).then((function(e){ve(e.data.bet),Te(e.data.played_cards),je(e.data.temp_results)})).catch((function(e){})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function dt(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(g("/game/cards",{user:c,game:t,card:e}).then((function(e){I(e.data.new_cards.cards)})).catch((function(e){})));case 2:case"end":return n.stop()}}),null,null,null,Promise)}function pt(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/gamePlayers",{game:e}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:v(e.data.game_players);case 1:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){Q(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function gt(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(g("/game/leave",{user:c}).then((function(e){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Q(!1),Me.emit("leave room",Ue,c),Me.emit("forceDisconnect"),Ne(null),qe(null),st({index:1,routes:[{name:"Home"}]});case 6:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){Q(!1)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)}function yt(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/current",{game:e,user:c}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:h(e.data.current_game),$(e.data.current_game.status),"place bets"!==e.data.current_game.status&&"in game"!==e.data.current_game.status||(re(e.data.round.roundNumber),e.data.bet?be(!0):be(!1));case 3:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){Q(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}return Object(a.useEffect)((function(){!function(){var e,t,n;l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(T(st,!0));case 2:e=a.sent,t=e.user,n=e.username,m(t),N(n);case 7:case"end":return a.stop()}}),null,null,null,Promise)}()}),[]),Object(a.useEffect)((function(){var e;w&&Z&&Ue&&("place bets"===Z?(ft(Ue),ut(Ue)):"in game"===Z?(be(!1),ft(Ue),e=Ue,l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/currentPlayer",{game:e}).then((function(e){ge(e.data.player._id)})).catch((function(e){})));case 2:case"end":return t.stop()}}),null,null,null,Promise),mt(Ue),ut(Ue)):"finished"===Z&&ut(Ue))}),[w,Z]),Object(a.useEffect)((function(){null!==S&&null!==Ue?yt(Ue):null===Ue?qe(e.route.params.game):null===S&&pt(Ue)}),[S]),Object(a.useEffect)((function(){null!==Me&&null!==Ue&&(pt(Ue),yt(Ue),Me.on("user join",(function(e){pt(Ue)})),Me.on("user leave",(function(e){pt(Ue)})),Me.on("new message sended",(function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),null,null,null,Promise)})),Me.on("place bets",(function(e){ge(null),re(e),yt(Ue),fe(null),ge(null)})),Me.on("start round",(function(){u.a.OS,ge(null),$("in game")})),Me.on("new turn",(function(e){fe(null),Te(null),ge(e._id),mt(Ue)})),Me.on("next play",(function(e){ge(e.player._id),mt(Ue)})),Me.on("turn winner",(function(e){fe(e._id),ge(null)})),Me.on("new message sended",(function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.navigation.isFocused()&&Ye(!0);case 1:case"end":return t.stop()}}),null,null,null,Promise)})),Me.on("turn finish",(function(){ge(null)})),Me.on("game finished",(function(){$("finished"),fe(null),ge(null)})),Me.on("card played",(function(e,t){mt(Ue)})),Me.emit("set nickname",G),Me.emit("join room",Ue,c))}),[Me,Ue]),Object(a.useEffect)((function(){if(null!==c&&null!==G)return null===Me?(Ne(M()("https://skull-king-game.herokuapp.com",{transports:["websocket"],autoConnect:!0})),qe(e.route.params.game),B.a.addEventListener("change",it),function(){B.a.removeEventListener("change",it)}):(B.a.addEventListener("change",it),Q(!1),function(){B.a.removeEventListener("change",it)})}),[c,G]),r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(b,null),r.a.createElement(D.a,{contentContainerStyle:{flexGrow:1},refreshControl:r.a.createElement(V.a,{refreshing:K,onRefresh:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:null!==Me?null!=c&&null!=G&&null!==Ue&&pt(Ue):null!==c&&null!==G&&null!==Ue&&(Ne(M()("https://skull-king-game.herokuapp.com",{transports:["websocket"],autoConnect:!0})),qe(e.route.params.game));case 1:case"end":return t.stop()}}),null,null,null,Promise)}})},r.a.createElement(U,{gameState:Z,players:S,game:w,user:c,newMessage:Xe,setNewMessage:Ye,navigate:ct,socket:Me,room:Ue,startGame:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(g("/game/start",{user:c}).then((function(e){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Q(!1);case 1:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){Q(!1)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)},leaveGame:gt}),r.a.createElement(oe,{gameState:Z,alreadyBet:he,user:c,newMessage:Xe,setNewMessage:Ye,navigate:ct,socket:Me,room:Ue,leaveGame:gt,cards:_,maxBets:ne,pontuations:L,placeBet:function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(g("/game/bet",{user:c,game:w._id,value:e}).then((function(e){be(!0)})).catch((function(e){})));case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),null,null,null,Promise)}}),r.a.createElement(ce,{user:c,socket:Me,room:Ue,gameState:Z,maxBets:ne,navigate:ct,pontuations:L,setNewMessage:Ye,newMessage:Xe,leaveGame:gt,betsState:Se,tempResults:Oe,playedCardsState:Ie,currentPlayer:pe,setCurrentPlayer:ge,cards:_,game:w,setTempCard:Ae,playCard:dt,displayWinner:ue,setChoiceVisible:Be,open:et,setOpen:tt,cardToPlay:rt,setCardToPlay:ot}),r.a.createElement(ie,{user:c,socket:Me,room:Ue,gameState:Z,pontuations:L,newMessage:Xe,setNewMessage:Ye,navigate:ct,leaveGame:gt})),r.a.createElement(J,{visible:et&&null!==rt,content:r.a.createElement(i.a,{style:{flexDirection:"column",alignItems:"center"}},r.a.createElement(i.a,{style:{marginBottom:20}},r.a.createElement(ae,{color:null!==rt&&rt.color,value:null!==rt&&rt.value})),r.a.createElement(P,{icon:"times",text:"Cancel",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){tt(!1),ot(null)}}),r.a.createElement(P,{icon:"check",text:"Confirm",firstColor:"#21b121",secondColor:"#f1f1f1",action:function(){var e,t,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=rt,pe!==c){a.next=17;break}if((n=(t=_).indexOf(e))>-1&&t.splice(n,1),"binary"!==e.color){a.next=12;break}Ae(e),tt(!1),ot(null),Be(!0),a.next=17;break;case 12:return ge(null),tt(!1),ot(null),a.next=17,l.a.awrap(dt(e,w));case 17:case"end":return a.stop()}}),null,null,null,Promise)}}))}),r.a.createElement(J,{visible:De,content:r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center",marginBottom:20}},r.a.createElement(O.a,{style:{marginHorizontal:25},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return ge(null),Be(!1),e.next=4,l.a.awrap(dt({color:Le.color,value:"f",index:58},w));case 4:Ae(null);case 5:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.b,{source:n(303),style:{width:50,height:50},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(O.a,{style:{marginHorizontal:25},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return ge(null),Be(!1),e.next=4,l.a.awrap(dt({color:Le.color,value:"p",index:58},w));case 4:Ae(null);case 5:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.b,{source:n(304),style:{width:50,height:50},placeholderStyle:{backgroundColor:"transparent"}}))),r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-around"}},r.a.createElement(P,{icon:"times",text:"Cancel",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){Be(!1)}})))}))}var fe=n(55),me=n(318),de=null;function pe(e){var t=j.a.get("window"),n=(t.height,t.width,Object(a.useState)(null)),o=s()(n,2),c=o[0],d=o[1],p=Object(a.useState)(null),w=s()(p,2),h=w[0],b=w[1],x=Object(a.useState)(!1),S=s()(x,2),v=S[0],k=S[1],P=Object(a.useState)(null),_=s()(P,2),I=_[0],T=_[1],z=e.navigation,R=(z.navigate,z.reset);function L(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(g("/game/join",{user:c,game:e}).then((function(t){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:k(!1),R({index:1,routes:[{name:"Game",params:{game:e}}]});case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){k(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}Object(a.useEffect)((function(){k(!0),function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=null,t=null,"web"===u.a.OS){n.next=11;break}return n.next=5,l.a.awrap(de.getItem("@ocean_king:user",null));case 5:return e=n.sent,n.next=8,l.a.awrap(de.getItem("@ocean_king:username",null));case 8:t=n.sent,n.next=13;break;case 11:e=localStorage.getItem("@ocean_king:user",null),t=localStorage.getItem("@ocean_king:username",null);case 13:null!=e?(d(e),b(t)):R({index:1,routes:[{name:"Login"}]});case 14:case"end":return n.stop()}}),null,null,null,Promise)}(),"web"!==u.a.OS&&Object(me.a)("EMULATOR")}),[]);var A=function(e){"active"===e&&null!=c&&null!=h&&W()};function W(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(y("/game/",{user:c}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:k(!1),0!==e.data.games.length?T(e.data.games):T(null);case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){k(!1)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)}Object(a.useEffect)((function(){if(null!=c&&null!=h)return W(),B.a.addEventListener("change",A),function(){B.a.removeEventListener("change",A)}}),[c,h]);return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(D.a,{refreshControl:r.a.createElement(V.a,{refreshing:v,onRefresh:function(){null!=c&&null!=h&&W()}})},r.a.createElement(i.a,{style:[m.container,{justifyContent:"flex-start",marginTop:0}]},r.a.createElement(i.a,{style:m.row},r.a.createElement(E.a,{style:{fontSize:30,fontWeight:"bold",color:"#f1f1f1"}},"Games")),I&&0!==I.length&&I.map((function(e,t){return r.a.createElement(i.a,{style:m.row,key:t},r.a.createElement(E.a,{style:{fontSize:20,color:"#f1f1f1"}},e.createdBy.name),r.a.createElement(O.a,{style:{backgroundColor:"#217721",height:30,borderRadius:25,marginLeft:10,marginRight:5,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(L(e._id));case 2:case"end":return t.stop()}}),null,null,null,Promise)}},r.a.createElement(C.a,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{marginLeft:10},size:15}),r.a.createElement(E.a,{style:{color:"white",margin:10,fontWeight:"bold"}},"Join game")))})))),"web"===u.a.OS&&v&&r.a.createElement(i.a,{style:[{width:"100%",height:"100%",position:"absolute",alignContent:"center",justifyContent:"center",backgroundColor:"#21212180"}]},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(fe.a,{size:"large",color:"#f1f1f1"}),r.a.createElement(E.a,{style:{color:"#f1f1f1"}}," Loanding..."))))}"web"!==u.a.OS&&(de=n(108).AsyncStorage,n(92).default);var ge=n(56),ye=null;function we(e){var t=Object(a.useState)(null),n=s()(t,2),o=n[0],c=n[1],d=Object(a.useState)(""),p=s()(d,2),w=p[0],h=p[1],b=Object(a.useRef)(null),x=Object(a.useRef)(null);Object(a.useEffect)((function(){return ge.a.addListener("keyboardDidShow",S),ge.a.addListener("keyboardDidHide",v),function(){ge.a.removeListener("keyboardDidShow",S),ge.a.removeListener("keyboardDidHide",v)}}),[]);var S=function(){b.current.scrollToEnd({animated:!0})},v=function(){b.current.scrollToEnd({animated:!0})};function k(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(g("/game/message",{game:e,message:w,user:t}).then((function(e){x.current.clear(),h("")})).catch((function(e){})));case 2:case"end":return n.stop()}}),null,null,null,Promise)}function j(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/message",{game:e}).then((function(e){c(e.data)})).catch((function(e){})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}Object(a.useEffect)((function(){b.current&&b.current.scrollToEnd({animated:!0})}),[b]),Object(a.useEffect)((function(){!function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=null,t=null,"web"===u.a.OS){n.next=11;break}return n.next=5,l.a.awrap(ye.getItem("@ocean_king:user",null));case 5:return e=n.sent,n.next=8,l.a.awrap(ye.getItem("@ocean_king:username",null));case 8:t=n.sent,n.next=13;break;case 11:e=localStorage.getItem("@ocean_king:user",null),t=localStorage.getItem("@ocean_king:username",null);case 13:null!=e?(T(e),L(t)):(setLoading(!1),reset({index:1,routes:[{name:"Login"}]}));case 14:case"end":return n.stop()}}),null,null,null,Promise)}(),j(e.route.params.room),e.route.params.socket.on("new message sended",(function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(j(e.route.params.room));case 2:case"end":return t.stop()}}),null,null,null,Promise)}))}),[]);var P=Object(a.useState)(null),_=s()(P,2),I=_[0],T=_[1],z=Object(a.useState)(null),R=s()(z,2),L=(R[0],R[1]);return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(i.a,{style:{flex:1,justifyContent:"space-between",marginVertical:20}},r.a.createElement(i.a,null,r.a.createElement(i.a,{style:{height:"90%"}},r.a.createElement(D.a,{style:{flexGrow:0},ref:b,onContentSizeChange:function(e,t){b.current.scrollToEnd({animated:!0})}},o&&o.messages&&0!==o.messages.length&&o.messages.map((function(e,t){return r.a.createElement(i.a,{key:t,style:[m.row,{backgroundColor:e.player._id===I?"#1111ff30":"#f1f1f130",borderRadius:20,paddingHorizontal:10,paddingVertical:10,marginVertical:5,flexDirection:"column",alignItems:e.player._id===I?"flex-end":"flex-start"}]},r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,marginBottom:5,justifyContent:e.player._id===I?"flex-end":"flex-start"}]},r.a.createElement(E.a,{style:{color:"#f1f1f1",fontWeight:"bold",fontSize:17}},e.player.name)),r.a.createElement(E.a,{style:[m.row,{color:"#f1f1f1",textAlign:e.player._id===I?"right":"left",marginHorizontal:0}]},e.message))}))))),r.a.createElement(i.a,{style:m.row},r.a.createElement(i.a,{style:{flex:6}},r.a.createElement(C.c,{ref:x,placeholder:"Message",onChangeText:function(e){h(e)},multiline:!0,errorStyle:{color:"red"},inputStyle:{color:"#f1f1f1"}})),r.a.createElement(i.a,{style:{flex:1}},r.a.createElement(O.a,{style:{width:40,height:40,borderRadius:100,backgroundColor:"rgb(30, 200, 30)",justifyContent:"center",alignItems:"center"},onPress:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(k(e.route.params.room,e.route.params.user));case 2:case"end":return t.stop()}}),null,null,null,Promise)}},r.a.createElement(C.a,{name:"arrow-right",color:"white",type:"font-awesome",size:17,iconStyle:{margin:10}}))))))}"web"!==u.a.OS&&(ye=n(108).AsyncStorage,n(92).default);function he(e){return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(D.a,{contentContainerStyle:{flexGrow:1}}))}"web"!==u.a.OS&&(n(108).AsyncStorage,n(92).default);function be(e){return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(D.a,{contentContainerStyle:{flexGrow:1}}))}"web"!==u.a.OS&&(n(108).AsyncStorage,n(92).default);var Ee=null;function xe(e){var t=Object(a.useState)(!1),n=s()(t,2),o=(n[0],n[1]),c=Object(a.useState)(!1),d=s()(c,2),p=(d[0],d[1]),g=e.navigation,y=g.navigate,w=g.reset;j.a.get("window").width;return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(D.a,{contentContainerStyle:{flexGrow:1}},r.a.createElement(i.a,{style:[m.row,{marginHorizontal:20,marginVertical:5,marginTop:20,justifyContent:"flex-start"}]},r.a.createElement(O.a,{style:{alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:y("Rules");case 1:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.a,{name:"list",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Rules"))),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:20,marginVertical:5,justifyContent:"flex-start"}]},r.a.createElement(O.a,{style:{alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:y("Credits");case 1:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.a,{name:"copyright",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Credits"))),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:20,marginVertical:5,justifyContent:"flex-start"}]},r.a.createElement(O.a,{style:{alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),e.next=5;break;case 5:return e.prev=5,e.next=8,l.a.awrap(R.b());case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),o(e.t0.message);case 13:if("web"===u.a.OS){e.next=20;break}return e.next=16,l.a.awrap(Ee.removeItem("@ocean_king:user"));case 16:return e.next=18,l.a.awrap(Ee.removeItem("@ocean_king:username"));case 18:e.next=22;break;case 20:localStorage.removeItem("@ocean_king:user"),localStorage.removeItem("@ocean_king:username");case 22:p(!1),w({index:1,routes:[{name:"Login"}]});case 24:case"end":return e.stop()}}),null,null,[[5,10]],Promise)}},r.a.createElement(C.a,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Logout")))))}"web"!==u.a.OS&&(Ee=n(108).AsyncStorage,n(92).default);var Se=n(188);function ve(e){return r.a.createElement(Se.a,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(se,{pontuations:e.route.params.pontuations}))}function Ce(e){var t=Object(a.useState)(null),n=s()(t,2),o=n[0],c=n[1],d=Object(a.useState)(!1),p=s()(d,2),g=p[0],w=p[1],h=Object(a.useState)("players"),b=s()(h,2),x=b[0],S=b[1],v=Object(a.useState)(null),k=s()(v,2),P=k[0],_=k[1];function I(e){var t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t="players"===e?P?e+"/"+P:e+"/points":e,n.next=3,l.a.awrap(y("/game/scoreboards/"+t,{}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:w(!1),c(e.data);case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){w(!1)})));case 3:case"end":return n.stop()}}),null,null,null,Promise)}Object(a.useEffect)((function(){x&&I(x)}),[x]),Object(a.useEffect)((function(){P&&I(x)}),[P]);var T=j.a.get("window").width;return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(D.a,{contentContainerStyle:{flexGrow:1},refreshControl:r.a.createElement(V.a,{refreshing:g,onRefresh:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:I(x);case 1:case"end":return e.stop()}}),null,null,null,Promise)}})},x&&r.a.createElement(i.a,null,r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"web"===u.a.OS?"center":"space-between"}]},r.a.createElement(O.a,{style:{backgroundColor:"players"===x?"#27496d":"#27496d80",height:50,width:"web"===u.a.OS?240:(T-45)/2,borderRadius:25,marginLeft:"web"===u.a.OS?0:15,marginRight:"web"===u.a.OS?10:null,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:S("players");case 1:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.a,{name:"gamepad",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Total points")),r.a.createElement(O.a,{style:{backgroundColor:"games"===x?"#27496d":"#27496d80",height:50,width:"web"===u.a.OS?240:(T-45)/2,borderRadius:25,marginLeft:"web"===u.a.OS?10:null,marginRight:"web"===u.a.OS?0:15,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){S("games")}},r.a.createElement(C.a,{name:"list",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Games"))),"players"===x&&r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"web"===u.a.OS?"center":"space-between"}]},r.a.createElement(O.a,{style:{height:50,width:"web"===u.a.OS?240:(T-45)/2,marginLeft:"web"===u.a.OS?0:15,marginRight:"web"===u.a.OS?10:null,marginVertical:10,alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:_("points");case 1:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(E.a,{style:{color:P&&"wins"===P?"#f1f1f130":"#f1f1f1",margin:5,fontWeight:"bold"}},"Points")),r.a.createElement(O.a,{style:{height:50,width:"web"===u.a.OS?240:(T-45)/2,marginLeft:"web"===u.a.OS?0:15,marginRight:"web"===u.a.OS?10:null,marginVertical:10,alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){_("wins")}},r.a.createElement(E.a,{style:{color:P&&"wins"===P?"#f1f1f1":"#f1f1f130",margin:5,fontWeight:"bold"}},"Wins")))),r.a.createElement(i.a,{style:{marginVertical:20}},x&&"players"===x&&o&&o.map((function(e,t){return r.a.createElement(i.a,{style:[m.row,{marginVertical:5}],key:t},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center"}},t<3&&r.a.createElement(C.a,{name:"trophy",color:0===t?"#CCA700":1===t?"#C0C0C0":2===t?"#cd853f":"#f1f1f1",type:"font-awesome",iconStyle:{marginRight:10}}),r.a.createElement(E.a,{style:{color:0===t?"#CCA700":1===t?"#C0C0C0":2===t?"#cd853f":"#f1f1f1",fontWeight:t<3?"bold":"normal",fontSize:0===t?22:1===t?20:2===t?18:15}},e.name)),r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center"}},r.a.createElement(E.a,{style:{color:0===t?"#CCA700":1===t?"#C0C0C0":2===t?"#cd853f":"#f1f1f1",fontWeight:t<3?"bold":"normal",fontSize:0===t?22:1===t?20:2===t?18:15}},P?"points"===P?e.points:e.wins:e.points)))}))),r.a.createElement(i.a,{style:{marginBottom:20}},x&&"games"===x&&o&&o.map((function(e,t){return r.a.createElement(i.a,{style:{marginTop:0!==t?20:0,borderRadius:20,marginHorizontal:10,padding:10,backgroundColor:"#f1f1f110"},key:t},r.a.createElement(i.a,{style:[m.row]},r.a.createElement(E.a,{style:{color:"#f1f1f1",fontWeight:"bold",fontSize:15}},e&&e.scores&&e.scores[0]&&e.scores[0].player&&e.scores[0].player.name),r.a.createElement(E.a,{style:{color:"#f1f1f1",fontWeight:"bold",fontSize:15}},e&&e.scores&&e.scores[0]&&e.scores[0].player&&e.scores[0].points)),r.a.createElement(i.a,null,e.scores&&e.scores.map((function(e,t){if(0!==t)return r.a.createElement(i.a,{style:m.row,key:t},r.a.createElement(E.a,{style:{color:"#f1f1f1"}},e.player.name),r.a.createElement(E.a,{style:{color:"#f1f1f1"}},e.points))}))))})))))}"web"!==u.a.OS&&(n(108).AsyncStorage,n(92).default);var ke=n(673),Oe=Object(ke.a)();var je=function(){return r.a.createElement(Oe.Navigator,{initialRouteName:"Login",screenOptions:{headerTintColor:"white"}},r.a.createElement(Oe.Screen,{name:"Login",component:H,options:{headerShown:!1}}),r.a.createElement(Oe.Screen,{name:"Join",component:pe,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Join game"}}),r.a.createElement(Oe.Screen,{name:"Chat",component:we,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Chat"}}),r.a.createElement(Oe.Screen,{name:"Rules",component:he,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Rules"}}),r.a.createElement(Oe.Screen,{name:"Credits",component:be,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Credits"}}),r.a.createElement(Oe.Screen,{name:"Settings",component:xe,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Settings"}}),r.a.createElement(Oe.Screen,{name:"Scoreboards",component:Ce,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Scoreboards"}}),r.a.createElement(Oe.Screen,{name:"Game",component:ue,options:{headerShown:!1}}),r.a.createElement(Oe.Screen,{name:"Home",component:z,options:{headerShown:!1}}),r.a.createElement(Oe.Screen,{name:"Pontuations",component:ve,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Scores"}}))},Pe=n(81),_e=n(377),Ie=n(316);function Te(){return r.a.createElement(i.a,{style:{flex:1}},r.a.createElement(f.b,null,r.a.createElement(N.a,{backgroundColor:"#212121",barStyle:"light-content"}),r.a.createElement(Ie.a,null,r.a.createElement(_e.a,{store:ne},r.a.createElement(je,null)))))}"web"===u.a.OS&&(Pe.a.registerComponent("App",(function(){return Te})),Pe.a.runApplication("App",{rootTag:document.getElementById("root")}));t.a=Te},385:function(e,t,n){n(386),n(387),e.exports=n(660)},386:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/ocean_king/expo-service-worker.js",{scope:"/ocean_king/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},585:function(e,t,n){e.exports=n.p+"static/media/ocean_king.3744a6e1.png"},616:function(e,t){},619:function(e,t,n){e.exports=n.p+"static/media/red.83fdd3cd.png"},620:function(e,t,n){e.exports=n.p+"static/media/blue.c72839d4.png"},621:function(e,t,n){e.exports=n.p+"static/media/yellow.6d942fd7.png"},622:function(e,t,n){e.exports=n.p+"static/media/black.3809fdb9.png"},623:function(e,t,n){e.exports=n.p+"static/media/mermaid_1.e297e69a.png"},624:function(e,t,n){e.exports=n.p+"static/media/mermaid_2.04a0f883.png"},625:function(e,t,n){e.exports=n.p+"static/media/pirate_3.ddd99f7d.png"},626:function(e,t,n){e.exports=n.p+"static/media/king.e4050818.png"},627:function(e,t,n){e.exports=n.p+"static/media/v1.93ccb8e4.png"},628:function(e,t,n){e.exports=n.p+"static/media/v2.b6bff9c6.png"},629:function(e,t,n){e.exports=n.p+"static/media/v3.42facb36.png"},630:function(e,t,n){e.exports=n.p+"static/media/v4.eb7f9b12.png"},631:function(e,t,n){e.exports=n.p+"static/media/v5.b2abb382.png"},632:function(e,t,n){e.exports=n.p+"static/media/v6.817877c3.png"},633:function(e,t,n){e.exports=n.p+"static/media/v7.1164fd71.png"},634:function(e,t,n){e.exports=n.p+"static/media/v8.8d95d18e.png"},635:function(e,t,n){e.exports=n.p+"static/media/v9.85e8f6a9.png"},636:function(e,t,n){e.exports=n.p+"static/media/v10.5c0ec648.png"},637:function(e,t,n){e.exports=n.p+"static/media/v11.a1e8b365.png"},638:function(e,t,n){e.exports=n.p+"static/media/v12.4400bde2.png"},639:function(e,t,n){e.exports=n.p+"static/media/v13.c321b579.png"},640:function(e,t,n){e.exports=n.p+"static/media/back.68a8d42f.png"},641:function(e,t,n){e.exports=n.p+"static/media/scary_mary.cd29403d.png"}},[[385,1,2]]]);
//# sourceMappingURL=app.44379cb5.chunk.js.map