(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{232:function(e,t,n){e.exports=n.p+"static/media/ocean_king.3744a6e1.png"},236:function(e,t,n){e.exports=n.p+"static/media/f.41603d99.png"},237:function(e,t,n){e.exports=n.p+"static/media/p.2c3f7dc0.png"},375:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),l=n.n(o),c=n(20),s=n.n(c),i=n(2),u=n(22),m=n(39),f=n(9),g=n(27),d=n(114),p=n(5),h=n(42),y=n(50),w=n(26),b=n(3).a.create({container:{flex:1,backgroundColor:"#212121",justifyContent:"center",marginVertical:20},row:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginHorizontal:20}}),x=n(361),E=Object(x.create)({baseURL:"https://skull-king-game.herokuapp.com/"});function S(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(E.post(e,JSON.stringify(t),{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){throw e})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),null,null,null,Promise)}function v(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(E.get(e,t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){throw e})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),null,null,null,Promise)}E.addAsyncResponseTransform((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw e;case 2:case"end":return t.stop()}}),null,null,null,Promise)}));var k=n(683),O=n(681),j=n(131),C=null,_=null,I=null;function P(e){var t=Object(a.useState)(!1),o=s()(t,2),c=o[0],x=o[1],E=Object(a.useState)(null),P=s()(E,2),L=P[0],z=P[1],R=Object(a.useState)(null),H=s()(R,2),T=H[0],D=H[1],W=Object(a.useState)(!1),A=s()(W,2),B=A[0],V=A[1],G=Object(a.useState)(!1),U=s()(G,2),M=U[0],q=U[1],J=g.a.get("window"),N=J.height,F=J.width,K=e.navigation,Q=K.navigate,X=K.reset;return Object(a.useEffect)((function(){"web"!==p.a.OS&&Object(k.a)("EMULATOR"),function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=null,t=null,"web"===p.a.OS){n.next=11;break}return n.next=5,l.a.awrap(C.getItem("@ocean_king:user",null));case 5:return e=n.sent,n.next=8,l.a.awrap(C.getItem("@ocean_king:username",null));case 8:t=n.sent,n.next=13;break;case 11:e=localStorage.getItem("@ocean_king:user",null),t=localStorage.getItem("@ocean_king:username",null);case 13:null!==e&&null!==t?(z(e),D(t)):X({index:1,routes:[{name:"Login"}]});case 14:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]),Object(a.useEffect)((function(){null!=L&&null!=T&&l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(v("/game/inGame",{user:L}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:x(!1),e.data.inGame&&X({index:1,routes:[{name:"Game",params:{game:e.data.game._id}}]});case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){x(!1)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[L,T]),r.a.createElement(y.c,{style:{flex:1,backgroundColor:"#212121"}},"web"!==p.a.OS&&r.a.createElement(O.a,{bannerSize:"fullBanner",adUnitID:"ca-app-pub-7606799175531903/7143162423",servePersonalizedAds:!0,bannerSize:"smartBannerLandscape"}),"web"!==p.a.OS&&r.a.createElement(_,{isVisible:c,deviceHeight:N+h.a.currentHeight,coverScreen:!1,backdropColor:"#212121",backdropOpacity:.8},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(m.a,{size:"large",color:"#f1f1f1"}),r.a.createElement(f.a,{style:{color:"#f1f1f1"}}," Loanding..."))),r.a.createElement(i.a,{style:b.container},r.a.createElement(i.a,{style:[b.row,{justifyContent:"center"}]},r.a.createElement(w.b,{source:n(232),style:{width:200,height:200},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(i.a,{style:[b.row,{justifyContent:"center",alignItems:"center"}]},B&&r.a.createElement(f.a,{style:{color:"red"}},B)),T&&r.a.createElement(i.a,{style:[b.row,{justifyContent:"center",marginTop:10}]},r.a.createElement(f.a,{style:{color:"#f1f1f1",fontSize:15}},T)),r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,marginTop:20,justifyContent:"web"===p.a.OS?"center":"space-between"}]},r.a.createElement(u.a,{style:{backgroundColor:"#142850",height:50,width:"web"===p.a.OS?240:(F-45)/2,borderRadius:25,marginLeft:"web"===p.a.OS?0:15,marginRight:"web"===p.a.OS?10:null,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),!L){e.next=6;break}return e.next=4,l.a.awrap(S("/game",{user:L}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:x(!1),X({index:1,routes:[{name:"Game",params:{game:e.data.game._id}}]});case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){console.log(e),x(!1)})));case 4:e.next=7;break;case 6:V("Please, logout and try again");case 7:case"end":return e.stop()}}),null,null,null,Promise));case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.a,{name:"gamepad",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"New game")),r.a.createElement(u.a,{style:{backgroundColor:"#27496d",height:50,width:"web"===p.a.OS?240:(F-45)/2,borderRadius:25,marginLeft:"web"===p.a.OS?10:null,marginRight:"web"===p.a.OS?0:15,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){Q("Join")}},r.a.createElement(w.a,{name:"server",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Join game"))),"web"===p.a.OS&&r.a.createElement(I,{clientId:"150873780761-chl8dvdsnlv89sqqlgj20t9oojpcjp8i.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),"web"===p.a.OS){e.next=8;break}return e.next=4,l.a.awrap(C.removeItem("@ocean_king:user"));case 4:return e.next=6,l.a.awrap(C.removeItem("@ocean_king:username"));case 6:e.next=10;break;case 8:localStorage.removeItem("@ocean_king:user"),localStorage.removeItem("@ocean_king:username");case 10:x(!1),X({index:1,routes:[{name:"Login"}]});case 12:case"end":return e.stop()}}),null,null,null,Promise)},render:function(e){return e.disabled?q(!0):q(!1),r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,marginTop:20,justifyContent:"center",display:e.disabled?"none":"flex"}]},r.a.createElement(u.a,{style:{backgroundColor:"#142850",height:50,width:"web"===p.a.OS?500:F-30,borderRadius:25,marginLeft:5,marginRight:5,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:e.onClick},r.a.createElement(w.a,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Logout")))}}),M&&r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,marginTop:20,justifyContent:"center"}]},r.a.createElement(u.a,{style:{backgroundColor:"#142850",height:50,width:"web"===p.a.OS?500:F-30,borderRadius:25,marginLeft:5,marginRight:5,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),"web"===p.a.OS){e.next=8;break}return e.next=4,l.a.awrap(C.removeItem("@ocean_king:user"));case 4:return e.next=6,l.a.awrap(C.removeItem("@ocean_king:username"));case 6:e.next=10;break;case 8:localStorage.removeItem("@ocean_king:user"),localStorage.removeItem("@ocean_king:username");case 10:x(!1),X({index:1,routes:[{name:"Login"}]});case 12:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.a,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"logout"))),"web"!==p.a.OS&&r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,marginTop:20,justifyContent:"center"}]},r.a.createElement(u.a,{style:{backgroundColor:"#142850",height:50,width:"web"===p.a.OS?500:F-30,borderRadius:25,marginLeft:5,marginRight:5,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),e.next=5;break;case 5:return e.prev=5,e.next=8,l.a.awrap(j.b());case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),V(e.t0.message);case 13:if("web"===p.a.OS){e.next=20;break}return e.next=16,l.a.awrap(C.removeItem("@ocean_king:user"));case 16:return e.next=18,l.a.awrap(C.removeItem("@ocean_king:username"));case 18:e.next=22;break;case 20:localStorage.removeItem("@ocean_king:user"),localStorage.removeItem("@ocean_king:username");case 22:x(!1),X({index:1,routes:[{name:"Login"}]});case 24:case"end":return e.stop()}}),null,null,[[5,10]],Promise)}},r.a.createElement(w.a,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Logout"))),r.a.createElement(i.a,{style:[b.row,{justifyContent:"center"}]},r.a.createElement(u.a,{onPress:function(){d.a.openURL("https://github.com/fabiohfab")}},r.a.createElement(f.a,{style:{color:"#f1f1f1"}},"Created by F\xe1bio Henriques")))),r.a.createElement(i.a,{style:[b.row,{justifyContent:"flex-start",marginBottom:20}]},r.a.createElement(f.a,{style:{color:"#a1a1a1"}},"web"===p.a.OS&&"web"," v202004021440")),"web"===p.a.OS&&c&&r.a.createElement(i.a,{style:[{width:"100%",height:"100%",position:"absolute",alignContent:"center",justifyContent:"center",backgroundColor:"#21212180"}]},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(m.a,{size:"large",color:"#f1f1f1"}),r.a.createElement(f.a,{style:{color:"#f1f1f1"}}," ","Loanding..."))))}"web"!==p.a.OS?(C=n(139).AsyncStorage,_=n(112).default):(n(211).default,I=n(212).GoogleLogout);n(376);var L=null,z=null,R=null;function H(e){var t=Object(a.useState)(null),o=s()(t,2),c=o[0],x=o[1],E=Object(a.useState)(null),v=s()(E,2),C=(v[0],v[1],Object(a.useState)(null)),_=s()(C,2),I=(_[0],_[1],Object(a.useState)(!1)),P=s()(I,2),H=P[0],T=P[1],D=Object(a.useState)(!1),W=s()(D,2),A=(W[0],W[1],Object(a.useState)(!1)),B=s()(A,2),V=(B[0],B[1],Object(a.useState)(!1)),G=s()(V,2),U=G[0],M=G[1],q=Object(a.useState)(!1),J=s()(q,2),N=J[0],F=(J[1],g.a.get("window")),K=F.height,Q=F.width,X=e.navigation,Y=(X.navigate,X.reset),Z=function(){var e,t,n,a,r,o;return l.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:T(!0),c.next=24;break;case 5:if(e=c.sent,t=e.type,e.accessToken,n=e.user,"success"!==t){c.next=14;break}return c.next=12,l.a.awrap(S("/auth/googleLogin/",{user:n}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.data.dataBase_user){t.next=12;break}if("web"===p.a.OS){t.next=8;break}return t.next=4,l.a.awrap(L.setItem("@ocean_king:user",e.data.dataBase_user._id));case 4:return t.next=6,l.a.awrap(L.setItem("@ocean_king:username",e.data.dataBase_user.name));case 6:t.next=10;break;case 8:localStorage.setItem("@ocean_king:user",e.data.dataBase_user._id),localStorage.setItem("@ocean_king:username",e.data.dataBase_user.name);case 10:t.next=21;break;case 12:if("web"===p.a.OS){t.next=19;break}return t.next=15,l.a.awrap(L.setItem("@ocean_king:user",e.data.new_user._id));case 15:return t.next=17,l.a.awrap(L.setItem("@ocean_king:username",e.data.new_user.name));case 17:t.next=21;break;case 19:localStorage.setItem("@ocean_king:user",e.data.new_user._id),localStorage.setItem("@ocean_king:username",e.data.new_user.name);case 21:T(!1),Y({index:1,routes:[{name:"Home"}]});case 23:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){T(!1),console.log(e),x("Authentication fail")})));case 12:c.next=16;break;case 14:T(!1),console.log("cancelled");case 16:c.next=22;break;case 18:c.prev=18,c.t0=c.catch(2),T(!1),console.log("error",c.t0);case 22:c.next=46;break;case 24:return c.prev=24,c.next=27,l.a.awrap(j.a());case 27:return c.next=29,l.a.awrap(j.d());case 29:if(a=c.sent,r=a.type,o=a.user,"success"!==r){c.next=38;break}return T(!0),c.next=36,l.a.awrap(S("/auth/googleLogin/",{user:o}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(T(!1),void 0===e.data.dataBase_user){t.next=13;break}if("web"===p.a.OS){t.next=9;break}return t.next=5,l.a.awrap(L.setItem("@ocean_king:user",e.data.dataBase_user._id));case 5:return t.next=7,l.a.awrap(L.setItem("@ocean_king:username",e.data.dataBase_user.name));case 7:t.next=11;break;case 9:localStorage.setItem("@ocean_king:user",e.data.dataBase_user._id),localStorage.setItem("@ocean_king:username",e.data.dataBase_user.name);case 11:t.next=22;break;case 13:if("web"===p.a.OS){t.next=20;break}return t.next=16,l.a.awrap(L.setItem("@ocean_king:user",e.data.new_user._id));case 16:return t.next=18,l.a.awrap(L.setItem("@ocean_king:username",e.data.new_user.name));case 18:t.next=22;break;case 20:localStorage.setItem("@ocean_king:user",e.data.new_user._id),localStorage.setItem("@ocean_king:username",e.data.new_user.name);case 22:Y({index:1,routes:[{name:"Home"}]});case 23:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){T(!1),console.log(e),x("Authentication fail")})));case 36:c.next=40;break;case 38:x("Authentication fail (1)"),T(!1);case 40:c.next=46;break;case 42:c.prev=42,c.t1=c.catch(24),x("Authentication fail (2)"+c.t1.message),T(!1);case 46:case"end":return c.stop()}}),null,null,[[2,18],[24,42]],Promise)};return Object(a.useEffect)((function(){"web"!==p.a.OS&&l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(j.c());case 2:case"end":return e.stop()}}),null,null,null,Promise),function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null,"web"===p.a.OS){t.next=7;break}return t.next=4,l.a.awrap(L.getItem("@ocean_king:user",null));case 4:e=t.sent,t.next=8;break;case 7:e=localStorage.getItem("@ocean_king:user",null);case 8:null!=e&&Y({index:1,routes:[{name:"Home"}]});case 9:case"end":return t.stop()}}),null,null,null,Promise)}(),"web"!==p.a.OS&&Object(k.a)("EMULATOR")}),[]),r.a.createElement(y.c,{style:{flex:1,backgroundColor:"#212121"}},"web"!==p.a.OS&&r.a.createElement(O.a,{bannerSize:"fullBanner",adUnitID:"ca-app-pub-7606799175531903/7143162423",servePersonalizedAds:!0,bannerSize:"smartBannerLandscape"}),"web"!==p.a.OS&&r.a.createElement(z,{isVisible:H,deviceHeight:K+h.a.currentHeight,coverScreen:!1,backdropColor:"#212121",backdropOpacity:.8},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(m.a,{size:"large",color:"#f1f1f1"}),r.a.createElement(f.a,{style:{color:"#f1f1f1"}}," Loanding..."))),r.a.createElement(i.a,{style:b.container},r.a.createElement(i.a,{style:[b.row,{justifyContent:"center"}]},r.a.createElement(w.b,{source:n(232),style:{width:200,height:200},placeholderStyle:{backgroundColor:"transparent"}})),null!==c&&r.a.createElement(i.a,{style:[b.row,{justifyContent:"center",alignItems:"center"}]},r.a.createElement(f.a,{style:{color:"red",textAlign:"center"}},c)),r.a.createElement(i.a,{style:b.row},N&&r.a.createElement(f.a,{style:{color:"#f1f1f1"}},N),U&&r.a.createElement(f.a,{style:{color:"red"}},U)),r.a.createElement(i.a,{style:[b.row,{justifyContent:"center",marginVertical:20}]},r.a.createElement(f.a,{style:{fontSize:30,fontWeight:"bold",color:"#f1f1f1"}},"Login")),!1,!1,!1,"web"===p.a.OS&&r.a.createElement(i.a,{style:[b.row,{justifyContent:"center"}]},r.a.createElement(R,{clientId:"150873780761-chl8dvdsnlv89sqqlgj20t9oojpcjp8i.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(S("/auth/googleLogin/",{user:{email:e.profileObj.email,name:e.profileObj.name,imageURL:e.profileObj.imageUrl}}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.data.dataBase_user){t.next=12;break}if("web"===p.a.OS){t.next=8;break}return t.next=4,l.a.awrap(L.setItem("@ocean_king:user",e.data.dataBase_user._id));case 4:return t.next=6,l.a.awrap(L.setItem("@ocean_king:username",e.data.dataBase_user.name));case 6:t.next=10;break;case 8:localStorage.setItem("@ocean_king:user",e.data.dataBase_user._id),localStorage.setItem("@ocean_king:username",e.data.dataBase_user.name);case 10:t.next=21;break;case 12:if("web"===p.a.OS){t.next=19;break}return t.next=15,l.a.awrap(L.setItem("@ocean_king:user",e.data.new_user._id));case 15:return t.next=17,l.a.awrap(L.setItem("@ocean_king:username",e.data.new_user.name));case 17:t.next=21;break;case 19:localStorage.setItem("@ocean_king:user",e.data.new_user._id),localStorage.setItem("@ocean_king:username",e.data.new_user.name);case 21:T(!1),Y({index:1,routes:[{name:"Home"}]});case 23:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){T(!1),console.log(e),x("Authentication fail")})));case 2:case"end":return t.stop()}}),null,null,null,Promise)},onFailure:function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e),M("Authentication failed");case 2:case"end":return t.stop()}}),null,null,null,Promise)},cookiePolicy:"single_host_origin",scope:"profile email openid",render:function(e){return r.a.createElement(i.a,{style:[b.row,{justifyContent:"center"}]},r.a.createElement(u.a,{style:{backgroundColor:"#142850",height:50,width:500,borderRadius:25,marginLeft:10,marginRight:10,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:e.onClick},r.a.createElement(w.a,{name:"google",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Sign in with google")))}})),"android"===p.a.OS&&r.a.createElement(i.a,{style:[b.row,{justifyContent:"center"}]},r.a.createElement(u.a,{style:{backgroundColor:"#142850",height:50,width:Q-30,borderRadius:25,marginLeft:10,marginRight:10,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(Z());case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.a,{name:"google",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Sign in with google"))),r.a.createElement(i.a,{style:[b.row,{justifyContent:"center"}]},r.a.createElement(u.a,{onPress:function(){d.a.openURL("https://github.com/fabiohfab")}},r.a.createElement(f.a,{style:{color:"#f1f1f1"}},"Created by F\xe1bio Henriques")))),r.a.createElement(i.a,{style:[b.row,{justifyContent:"flex-start",marginBottom:20}]},r.a.createElement(f.a,{style:{color:"#a1a1a1"}},"web"===p.a.OS&&"web"," v202004021440")),"web"===p.a.OS&&H&&r.a.createElement(i.a,{style:[{width:"100%",height:"100%",position:"absolute",alignContent:"center",justifyContent:"center",backgroundColor:"#21212180"}]},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(m.a,{size:"large",color:"#f1f1f1"}),r.a.createElement(f.a,{style:{color:"#f1f1f1"}}," Loanding..."))))}"web"!==p.a.OS?(L=n(139).AsyncStorage,z=n(112).default):(n(211).default,R=n(212).GoogleLogin,n(212).GoogleLogout);var T=n(31),D=n.n(T),W=n(48),A=n(80),B=n(91),V=n(156),G=n.n(V),U=(n(112),n(6)),M=n.n(U),q=n(157);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){M()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={socket:null,room:null};var K=Object(q.b)({socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SOCKET":return N({},e,{socket:t.socket,room:t.room});case"REMOVE_SOCKET":return N({},e,{socket:null,room:null});default:return e}}}),Q=Object(q.c)(K);function X(e){var t={red:n(617),blue:n(618),yellow:n(619),black:n(620),flag1:n(621),flag2:n(622),flag3:n(623),flag4:n(624),flag5:n(625),m1:n(626),m2:n(627),p1:n(628),p2:n(629),p3:n(630),p4:n(631),p5:n(632),sk:n(633),0:n(634),1:n(635),2:n(636),3:n(637),4:n(638),5:n(639),6:n(640),7:n(641),8:n(642),9:n(643),10:n(644),11:n(645),12:n(646),13:n(647),back:n(648),binary:n(649),f:n(236),p:n(237)},a=e.overlay?.3:1;return r.a.createElement(w.b,{source:t[e.color],style:{width:80,height:130},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}},("red"===e.color||"blue"===e.color||"yellow"===e.color||"black"===e.color)&&r.a.createElement(i.a,null,r.a.createElement(i.a,{style:{marginLeft:3.5,marginTop:3.5,position:"absolute"}},r.a.createElement(w.b,{source:t[e.value],style:{width:18,height:18},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(i.a,{style:{marginLeft:58,marginTop:3.5,position:"absolute"}},r.a.createElement(w.b,{source:t[e.value],style:{width:18,height:18},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(i.a,{style:{marginLeft:58,marginTop:108,position:"absolute"}},r.a.createElement(w.b,{source:t[e.value],style:{width:18,height:18},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(i.a,{style:{marginLeft:3.5,marginTop:108,position:"absolute"}},r.a.createElement(w.b,{source:t[e.value],style:{width:18,height:18},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}}))),"binary"==e.color&&"0"!==e.value&&r.a.createElement(i.a,null,r.a.createElement(i.a,{style:{marginLeft:2,marginTop:2,position:"absolute"}},r.a.createElement(w.b,{source:t[e.value],style:{width:22,height:22},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(i.a,{style:{marginLeft:56,marginTop:2,position:"absolute"}},r.a.createElement(w.b,{source:t[e.value],style:{width:22,height:22},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(i.a,{style:{marginLeft:56,marginTop:106,position:"absolute"}},r.a.createElement(w.b,{source:t[e.value],style:{width:22,height:22},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(i.a,{style:{marginLeft:2,marginTop:106,position:"absolute"}},r.a.createElement(w.b,{source:t[e.value],style:{width:22,height:22},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}}))))}var Y=null,Z=null;function $(e){var t=g.a.get("window"),o=t.height,c=t.width,d=Object(a.useState)(null),x=s()(d,2),E=x[0],j=x[1],C=Object(a.useState)(null),_=s()(C,2),I=_[0],P=_[1],L=Object(a.useState)(null),z=s()(L,2),R=z[0],H=z[1],T=Object(a.useState)(null),V=s()(T,2),U=V[0],M=V[1],q=Object(a.useState)(null),J=s()(q,2),N=J[0],F=J[1],K=Object(a.useState)(null),Q=s()(K,2),$=Q[0],ee=Q[1],te=Object(a.useState)(!1),ne=s()(te,2),ae=ne[0],re=ne[1],oe=Object(a.useState)("in queue"),le=s()(oe,2),ce=le[0],se=le[1],ie=Object(a.useState)(null),ue=s()(ie,2),me=ue[0],fe=ue[1],ge=Object(a.useState)(null),de=s()(ge,2),pe=de[0],he=de[1],ye=Object(a.useState)(null),we=s()(ye,2),be=we[0],xe=we[1],Ee=Object(a.useState)(!1),Se=s()(Ee,2),ve=Se[0],ke=Se[1],Oe=e.navigation.reset,je=Object(a.useState)(null),Ce=s()(je,2),_e=Ce[0],Ie=Ce[1],Pe=Object(a.useState)(null),Le=s()(Pe,2),ze=Le[0],Re=Le[1],He=Object(a.useState)(null),Te=s()(He,2),De=Te[0],We=Te[1],Ae=Object(a.useState)(null),Be=s()(Ae,2),Ve=Be[0],Ge=Be[1],Ue=Object(a.useState)(!1),Me=s()(Ue,2),qe=Me[0],Je=Me[1],Ne=Object(a.useState)(null),Fe=s()(Ne,2),Ke=Fe[0],Qe=Fe[1],Xe=Object(a.useState)(null),Ye=s()(Xe,2),Ze=Ye[0],$e=Ye[1],et=Object(a.useState)(null),tt=s()(et,2),nt=tt[0],at=tt[1];function rt(t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:re(!0),"active"===t&&(null!==Ke?null!==E&&null!==$&&null!==Ze&&mt(Ze):null!==E&&null!==$&&null!==Ze&&(Qe(G()("https://skull-king-game.herokuapp.com",{transports:["websocket"],autoConnect:!0})),$e(e.route.params.game))),re(!1);case 3:case"end":return n.stop()}}),null,null,null,Promise)}function ot(e,t,n){arguments.length<3&&(n=.5);for(var a=e.slice(),r=0;r<3;r++)a[r]=Math.round(a[r]+n*(t[r]-e[r]));return a}function lt(e,t,n){if(1===n)return[[30,200,30]];var a=1/(n-1),r=[];e=e.match(/\d+/g).map(Number),t=t.match(/\d+/g).map(Number);for(var o=0;o<n;o++)r.push(ot(e,t,a*o));return r}function ct(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(v("/game/pontuations",{game:e}).then((function(e){e.data.pontuations.sort((function(e,t){return e.points>t.points?-1:1})),F(e.data.pontuations),re(!1)})).catch((function(e){re(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function st(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(v("/game/cards",{user:E,game:e}).then((function(e){M(e.data.cards.cards)})).catch((function(e){re(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function it(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(v("/game/playersStatus",{game:e}).then((function(e){Ie(e.data.bet),We(e.data.played_cards),Re(e.data.temp_results)})).catch((function(e){})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function ut(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(S("/game/cards",{user:E,game:t,card:e}).then((function(e){M(e.data.new_cards.cards)})).catch((function(e){})));case 2:case"end":return n.stop()}}),null,null,null,Promise)}function mt(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(v("/game/gamePlayers",{game:e}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:H(e.data.game_players),at(lt("rgb(30, 200, 30)","rgb(200, 20, 20)",e.data.game_players.length));case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){re(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function ft(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(S("/game/leave",{user:E}).then((function(e){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:re(!1),Ke.emit("leave room",Ze,E),Ke.emit("forceDisconnect"),Qe(null),$e(null),Oe({index:1,routes:[{name:"Home"}]});case 6:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){re(!1)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)}function gt(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(v("/game/current",{game:e,user:E}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:P(e.data.current_game),se(e.data.current_game.status),"place bets"!==e.data.current_game.status&&"in game"!==e.data.current_game.status||(fe(e.data.round.roundNumber),e.data.bet?ke(!0):ke(!1));case 3:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){re(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function dt(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(S("/game/bet",{user:E,game:I._id,value:e}).then((function(e){ke(!0)})).catch((function(e){})));case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),null,null,null,Promise)}return Object(a.useEffect)((function(){re(!0),function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=null,t=null,"web"===p.a.OS){n.next=11;break}return n.next=5,l.a.awrap(Y.getItem("@ocean_king:user",null));case 5:return e=n.sent,n.next=8,l.a.awrap(Y.getItem("@ocean_king:username",null));case 8:t=n.sent,n.next=13;break;case 11:e=localStorage.getItem("@ocean_king:user",null),t=localStorage.getItem("@ocean_king:username",null);case 13:null!=e?(j(e),ee(t)):(re(!1),Oe({index:1,routes:[{name:"Login"}]}));case 14:case"end":return n.stop()}}),null,null,null,Promise)}(),"web"!==p.a.OS&&Object(k.a)("EMULATOR"),re(!1)}),[]),Object(a.useEffect)((function(){var e;I&&ce&&Ze&&("place bets"===ce?(st(Ze),ct(Ze)):"in game"===ce?(ke(!1),st(Ze),e=Ze,l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(v("/game/currentPlayer",{game:e}).then((function(e){xe(e.data.player._id)})).catch((function(e){})));case 2:case"end":return t.stop()}}),null,null,null,Promise),it(Ze),ct(Ze)):"finished"===ce&&ct(Ze))}),[I,ce]),Object(a.useEffect)((function(){null!==R&&null!==Ze?gt(Ze):null===Ze?$e(e.route.params.game):null===R&&mt(Ze)}),[R]),Object(a.useEffect)((function(){null!==Ke&&null!==Ze&&(mt(Ze),Ke.on("user join",(function(e){mt(Ze)})),Ke.on("user leave",(function(e){mt(Ze)})),Ke.on("place bets",(function(e){xe(null),fe(e),gt(Ze),he(null),xe(null)})),Ke.on("start round",(function(){xe(null),se("in game")})),Ke.on("new turn",(function(e){he(null),We(null),xe(e._id),it(Ze)})),Ke.on("next play",(function(e){xe(e.player._id),it(Ze)})),Ke.on("turn winner",(function(e){he(e.name),xe(null)})),Ke.on("turn finish",(function(){xe(null)})),Ke.on("game finished",(function(){se("finished"),he(null),xe(null)})),Ke.on("card played",(function(e,t){it(Ze)})),Ke.emit("set nickname",$),Ke.emit("join room",Ze,E))}),[Ke,Ze]),Object(a.useEffect)((function(){if(null!==E&&null!==$)return null===Ke?(Qe(G()("https://skull-king-game.herokuapp.com",{transports:["websocket"],autoConnect:!0})),$e(e.route.params.game),A.a.addEventListener("change",rt),function(){A.a.removeEventListener("change",rt)}):(A.a.addEventListener("change",rt),re(!1),function(){A.a.removeEventListener("change",rt)})}),[E,$]),r.a.createElement(y.c,{style:{flex:1,backgroundColor:"#212121"}},"web"!==p.a.OS&&r.a.createElement(O.a,{bannerSize:"fullBanner",adUnitID:"ca-app-pub-7606799175531903/7143162423",servePersonalizedAds:!0,bannerSize:"smartBannerLandscape"}),"web"!==p.a.OS&&r.a.createElement(Z,{isVisible:ae,deviceHeight:o+h.a.currentHeight,coverScreen:!1,backdropColor:"#212121",backdropOpacity:.8},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(m.a,{size:"large",color:"#f1f1f1"}),r.a.createElement(f.a,{style:{color:"#f1f1f1"}}," Loanding..."))),"web"!==p.a.OS&&r.a.createElement(Z,{isVisible:null!==pe,coverScreen:!1,deviceHeight:o+h.a.currentHeight,backdropColor:"#212121",backdropOpacity:.8},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap"}},r.a.createElement(f.a,{style:{color:"#f1f1f1",fontSize:25,textAlign:"center"}},pe," won the hand"))),"web"!==p.a.OS&&r.a.createElement(Z,{isVisible:qe,coverScreen:!1,deviceHeight:o+h.a.currentHeight,backdropColor:"#212121",backdropOpacity:.8},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-around"}},r.a.createElement(u.a,{onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(null),Je(!1),Ge(null),e.next=5,l.a.awrap(ut({color:Ve.color,value:"f"},I));case 5:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.b,{source:n(236),style:{width:50,height:50},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(u.a,{onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(null),Je(!1),Ge(null),e.next=5,l.a.awrap(ut({color:Ve.color,value:"p"},I));case 5:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.b,{source:n(237),style:{width:50,height:50},placeholderStyle:{backgroundColor:"transparent"}})))),r.a.createElement(W.a,{contentContainerStyle:{flexGrow:1},refreshControl:r.a.createElement(B.a,{refreshing:ae,onRefresh:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:null!==Ke?null!=E&&null!=$&&null!==Ze&&mt(Ze):null!==E&&null!==$&&null!==Ze&&(Qe(G()("https://skull-king-game.herokuapp.com",{transports:["websocket"],autoConnect:!0})),$e(e.route.params.game));case 1:case"end":return t.stop()}}),null,null,null,Promise)}})},ce&&"in queue"===ce&&r.a.createElement(i.a,{style:[b.container,{alignItems:"center"}]},r.a.createElement(i.a,null,r.a.createElement(i.a,{style:b.row},r.a.createElement(f.a,{style:{fontSize:30,fontWeight:"bold",color:"#f1f1f1"}},"Players")),R&&0!==R.length&&R.map((function(e,t){return r.a.createElement(i.a,{style:b.row,key:t},r.a.createElement(f.a,{style:{color:"#f1f1f1"}},e.player.name))}))),E&&I&&I.createdBy&&E==I.createdBy._id&&r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,marginTop:20,justifyContent:"center"}]},r.a.createElement(u.a,{style:{backgroundColor:"#27496d",height:50,width:"web"===p.a.OS?240:c-30,borderRadius:25,marginLeft:10,marginRight:10,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(S("/game/start",{user:E}).then((function(e){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:re(!1);case 1:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){re(!1)})));case 2:case"end":return e.stop()}}),null,null,null,Promise));case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.a,{name:"play",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Start game"))),r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,justifyContent:"center"}]},r.a.createElement(u.a,{style:{backgroundColor:"#a72121",height:50,width:"web"===p.a.OS?240:c-30,borderRadius:25,marginLeft:10,marginRight:10,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(ft());case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.a,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Leave game")))),ce&&"place bets"===ce&&ve&&r.a.createElement(i.a,{style:b.container},r.a.createElement(i.a,{style:[b.row,{justifyContent:"center"}]},r.a.createElement(f.a,{style:{fontSize:25,fontWeight:"bold",color:"#f1f1f1"}},"Waiting for other players...")),r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,justifyContent:"center"}]},r.a.createElement(u.a,{style:{backgroundColor:"#a72121",height:50,width:"web"===p.a.OS?240:c-30,borderRadius:25,marginLeft:10,marginRight:10,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(ft());case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.a,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Leave game"))),r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,marginBottom:20}]},r.a.createElement(W.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,decelerationRate:0,snapToInterval:80,snapToAlignment:"center",contentInset:{top:0,left:0,bottom:0,right:0},pagingEnabled:!1,contentContainerStyle:{flexGrow:1,justifyContent:"center"}},U&&0!==U.length&&U.map((function(e,t){return r.a.createElement(i.a,{key:t,style:{marginHorizontal:5}},r.a.createElement(X,{color:e.color,value:e.value,overlay:!1}))}))))),ce&&"place bets"===ce&&!ve&&r.a.createElement(i.a,{style:[b.container,{marginVertical:0,justifyContent:"space-between"}]},r.a.createElement(i.a,{style:[{justifyContent:"space-around",alignItems:"center",flexDirection:"column",flex:1,marginBottom:20}]},r.a.createElement(i.a,{style:b.row},r.a.createElement(f.a,{style:{fontSize:25,fontWeight:"bold",color:"#f1f1f1",marginHorizontal:10}},"Round ",me),r.a.createElement(u.a,{style:{backgroundColor:"#a72121",height:50,width:150,borderRadius:25,marginVertical:10,marginHorizontal:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(ft());case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.a,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Leave game"))),N&&N.map((function(e,t){return r.a.createElement(i.a,{style:b.row,key:t},r.a.createElement(f.a,{style:{fontSize:25,fontWeight:"bold",color:"#f1f1f1"}},e.player.name,":"," ",e.points))})),r.a.createElement(i.a,{style:[b.row,{flexWrap:"wrap"}]},null!==me&&D()(Array(me+1)).map((function(e,t){return r.a.createElement(u.a,{key:t,style:{backgroundColor:"#414141",height:40,width:80,borderRadius:20,alignItems:"center",justifyContent:"center",margin:5},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(dt(t));case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(f.a,{style:{color:"#f1f1f1",fontSize:20}},parseInt(t)))})))),r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,marginBottom:20}]},r.a.createElement(W.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,decelerationRate:0,snapToInterval:80,snapToAlignment:"center",contentInset:{top:0,left:0,bottom:0,right:0},pagingEnabled:!1,contentContainerStyle:{flexGrow:1,justifyContent:"center"}},U&&0!==U.length&&U.map((function(e,t){return r.a.createElement(i.a,{key:t,style:{marginHorizontal:5}},r.a.createElement(X,{color:e.color,value:e.value,overlay:!1}))}))))),ce&&"in game"===ce&&r.a.createElement(i.a,{style:[b.container,{marginVertical:0,justifyContent:"space-between"}]},r.a.createElement(i.a,{style:[b.row,{justifyContent:"center",alignItems:"center"}]},r.a.createElement(f.a,{style:{fontSize:25,fontWeight:"bold",color:"#f1f1f1",marginHorizontal:10}},"Round ",me),r.a.createElement(u.a,{style:{backgroundColor:"#a72121",height:50,width:150,borderRadius:25,marginVertical:10,marginHorizontal:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(ft());case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.a,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Leave game"))),N&&r.a.createElement(i.a,{style:[b.row,{justifyContent:"center",flexWrap:"wrap",margin:0}]},N&&N.map((function(e,t){return r.a.createElement(i.a,{style:b.row,key:t},r.a.createElement(f.a,{style:{fontSize:15,fontWeight:"bold",color:"#f1f1f1",marginHorizontal:5}},e.player.name,":"," "),r.a.createElement(f.a,{style:{backgroundColor:"rgb("+nt[t][0]+", "+nt[t][1]+", "+nt[t][2]+")",borderRadius:20,paddingHorizontal:5,color:"#f1f1f1",fontWeight:"bold"}},e.points))}))),r.a.createElement(i.a,{style:[b.row,{justifyContent:"center",flexWrap:"wrap",margin:0}]},_e&&ze&&_e.map((function(e,t){return r.a.createElement(i.a,{key:t,style:{alignItems:"center",margin:2}},e&&r.a.createElement(f.a,{style:{fontSize:15,fontWeight:"bold",color:e.player._id===be?"#21b121":"#f1f1f1"}},e.player.name," ",ze[e.player._id],"/",e.value),De&&e&&De.map((function(t,n){if(t.player._id===e.player._id)return r.a.createElement(X,{key:n,color:t.card[0].color,value:t.card[0].value,overlay:!1})})))}))),r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,marginBottom:20}]},r.a.createElement(W.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,decelerationRate:0,snapToInterval:80,snapToAlignment:"center",contentInset:{top:0,left:0,bottom:0,right:0},pagingEnabled:!1,contentContainerStyle:{flexGrow:1,justifyContent:"center"}},U&&0!==U.length&&U.map((function(e,t){return r.a.createElement(i.a,{key:t,style:{marginHorizontal:5}},r.a.createElement(u.a,{onPress:function(){var t,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(be!==E){a.next=12;break}if((n=(t=U).indexOf(e))>-1&&t.splice(n,1),"binary"!==e.color){a.next=9;break}Ge(e),Je(!0),a.next=12;break;case 9:return xe(null),a.next=12,l.a.awrap(ut(e,I));case 12:case"end":return a.stop()}}),null,null,null,Promise)}},r.a.createElement(X,{color:e.color,value:e.value,overlay:be!==E})))}))))),ce&&"finished"===ce&&r.a.createElement(i.a,{style:[b.container,{alignItems:"center"}]},!N&&r.a.createElement(i.a,{style:[b.row]},r.a.createElement(f.a,{style:{fontSize:25,fontWeight:"bold",color:"#f1f1f1"}},"Waiting for pontuations...")),N&&N.map((function(e,t){return r.a.createElement(i.a,{style:b.row,key:t},r.a.createElement(f.a,{style:{fontSize:25,fontWeight:"bold",color:"#f1f1f1"}},e.player.name,": ",e.points))})),r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,justifyContent:"center"}]},r.a.createElement(u.a,{style:{backgroundColor:"#a72121",height:50,width:"web"===p.a.OS?240:c-30,borderRadius:25,marginVertical:10,marginHorizontal:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(ft());case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.a,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Leave game"))))),"web"===p.a.OS&&ae&&r.a.createElement(i.a,{style:[{width:"100%",height:"100%",position:"absolute",alignContent:"center",justifyContent:"center",backgroundColor:"#21212180"}]},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(m.a,{size:"large",color:"#526b78"}),r.a.createElement(f.a,{style:{color:"#f1f1f1"}}," Loanding..."))),"web"===p.a.OS&&null!==pe&&r.a.createElement(i.a,{style:[{width:"100%",height:"100%",position:"absolute",alignContent:"center",justifyContent:"center",backgroundColor:"#21212180"}]},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap"}},r.a.createElement(f.a,{style:{color:"#f1f1f1",fontSize:25,fontWeight:"bold",textAlign:"center"}},pe," won the hand"))),"web"===p.a.OS&&qe&&r.a.createElement(i.a,{style:[{width:"100%",height:"100%",position:"absolute",alignContent:"center",justifyContent:"center",backgroundColor:"#21212180"}]},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-around"}},r.a.createElement(u.a,{onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(null),Je(!1),Ge(null),e.next=5,l.a.awrap(ut({color:Ve.color,value:"f"},I));case 5:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.b,{source:n(236),style:{width:50,height:50},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(u.a,{onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(null),Je(!1),Ge(null),e.next=5,l.a.awrap(ut({color:Ve.color,value:"p"},I));case 5:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.b,{source:n(237),style:{width:50,height:50},placeholderStyle:{backgroundColor:"transparent"}})))))}"web"!==p.a.OS?(Y=n(139).AsyncStorage,Z=n(112).default):n(211).default;var ee=null,te=null;function ne(e){var t=g.a.get("window"),n=t.height,o=(t.width,Object(a.useState)(null)),c=s()(o,2),d=c[0],x=c[1],E=Object(a.useState)(null),O=s()(E,2),j=O[0],C=O[1],_=Object(a.useState)(!1),I=s()(_,2),P=I[0],L=I[1],z=Object(a.useState)(null),R=s()(z,2),H=R[0],T=R[1],D=e.navigation,V=(D.navigate,D.reset);function G(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(S("/game/join",{user:d,game:e}).then((function(t){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:L(!1),V({index:1,routes:[{name:"Game",params:{game:e}}]});case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){L(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}Object(a.useEffect)((function(){!function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=null,t=null,"web"===p.a.OS){n.next=11;break}return n.next=5,l.a.awrap(ee.getItem("@ocean_king:user",null));case 5:return e=n.sent,n.next=8,l.a.awrap(ee.getItem("@ocean_king:username",null));case 8:t=n.sent,n.next=13;break;case 11:e=localStorage.getItem("@ocean_king:user",null),t=localStorage.getItem("@ocean_king:username",null);case 13:null!=e?(x(e),C(t)):V({index:1,routes:[{name:"Login"}]});case 14:case"end":return n.stop()}}),null,null,null,Promise)}(),"web"!==p.a.OS&&Object(k.a)("EMULATOR")}),[]);var U=function(e){"active"===e&&(console.log("!"),console.log(d,j),null!=d&&null!=j&&M())};function M(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(v("/game/",{user:d}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e.data),L(!1),0!==e.data.games.length?T(e.data.games):T(null);case 3:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){console.log(e),L(!1)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)}Object(a.useEffect)((function(){if(null!=d&&null!=j)return M(),A.a.addEventListener("change",U),function(){A.a.removeEventListener("change",U)}}),[d,j]);return r.a.createElement(y.c,{style:{flex:1,backgroundColor:"#212121"}},"web"!==p.a.OS&&r.a.createElement(te,{isVisible:P,deviceHeight:n+h.a.currentHeight,coverScreen:!1,backdropColor:"#212121",backdropOpacity:.8},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(m.a,{size:"large",color:"#f1f1f1"}),r.a.createElement(f.a,{style:{color:"#f1f1f1"}}," Loanding..."))),r.a.createElement(W.a,{refreshControl:r.a.createElement(B.a,{refreshing:P,onRefresh:function(){null!=d&&null!=j&&M()}})},r.a.createElement(i.a,{style:[b.container,{justifyContent:"flex-start",marginTop:0}]},r.a.createElement(i.a,{style:b.row},r.a.createElement(f.a,{style:{fontSize:30,fontWeight:"bold",color:"#f1f1f1"}},"Games")),H&&0!==H.length&&H.map((function(e,t){return r.a.createElement(i.a,{style:b.row,key:t},r.a.createElement(f.a,{style:{fontSize:20,color:"#f1f1f1"}},e.createdBy.name),r.a.createElement(u.a,{style:{backgroundColor:"#217721",height:30,borderRadius:25,marginLeft:10,marginRight:5,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(G(e._id));case 2:case"end":return t.stop()}}),null,null,null,Promise)}},r.a.createElement(w.a,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{marginLeft:10},size:15}),r.a.createElement(f.a,{style:{color:"white",margin:10,fontWeight:"bold"}},"Join game")))})))),"web"===p.a.OS&&P&&r.a.createElement(i.a,{style:[{width:"100%",height:"100%",position:"absolute",alignContent:"center",justifyContent:"center",backgroundColor:"#21212180"}]},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(m.a,{size:"large",color:"#f1f1f1"}),r.a.createElement(f.a,{style:{color:"#f1f1f1"}}," Loanding..."))))}"web"!==p.a.OS&&(ee=n(139).AsyncStorage,te=n(112).default);var ae=null,re=null;function oe(e){var t=Object(a.useState)(null),o=s()(t,2),c=o[0],d=o[1],h=Object(a.useState)(null),x=s()(h,2),E=x[0],v=x[1],O=Object(a.useState)(null),j=s()(O,2),C=j[0],_=j[1],I=Object(a.useState)(null),P=s()(I,2),L=P[0],z=P[1],R=Object(a.useState)(!1),H=s()(R,2),T=H[0],D=H[1],W=Object(a.useState)(!1),A=s()(W,2),B=A[0],V=A[1],G=Object(a.useState)(!1),U=s()(G,2),M=U[0],q=U[1],J=Object(a.useState)(!1),N=s()(J,2),F=N[0],K=N[1],Q=g.a.get("window"),X=(Q.height,Q.width),Y=e.navigation,Z=(Y.navigate,Y.reset);return Object(a.useEffect)((function(){"web"!==p.a.OS&&Object(k.a)("EMULATOR"),l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(ae.getItem("@ocean_king:user",null));case 2:null!=e.sent&&Z({index:1,routes:[{name:"Home"}]});case 4:case"end":return e.stop()}}),null,null,null,Promise)}),[]),r.a.createElement(y.c,{style:{flex:1,backgroundColor:"#212121"}},"web"!==p.a.OS&&r.a.createElement(re,{isVisible:T,coverScreen:!1,backdropColor:"#212121",backdropOpacity:.8},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(m.a,{size:"large",color:"#f1f1f1"}),r.a.createElement(f.a,{style:{color:"#f1f1f1"}}," Loanding..."))),r.a.createElement(i.a,{style:[b.container,{marginTop:0}]},r.a.createElement(i.a,{style:[b.row,{justifyContent:"center"}]},r.a.createElement(w.b,{source:n(232),style:{width:100,height:100},placeholderStyle:{backgroundColor:"transparent"}})),null!==c&&r.a.createElement(i.a,{style:[b.row,{justifyContent:"center",alignItems:"center"}]},r.a.createElement(f.a,{style:{color:"red",textAlign:"center"}},c)),r.a.createElement(i.a,{style:[b.row,{justifyContent:"center",marginVertical:20}]},r.a.createElement(f.a,{style:{fontSize:30,fontWeight:"bold",color:"#f1f1f1"}},"Register")),r.a.createElement(i.a,{style:b.row},r.a.createElement(w.c,{placeholder:"Username",onChangeText:function(e){V(e)},errorMessage:E,errorStyle:{color:"red"},inputStyle:{color:"#f1f1f1"}})),r.a.createElement(i.a,{style:b.row},r.a.createElement(w.c,{placeholder:"Email",onChangeText:function(e){q(e)},errorMessage:L,errorStyle:{color:"red"},inputStyle:{color:"#f1f1f1"}})),r.a.createElement(i.a,{style:b.row},r.a.createElement(w.c,{placeholder:"Password",secureTextEntry:!0,onChangeText:function(e){K(e)},errorMessage:C,errorStyle:{color:"red"},inputStyle:{color:"#f1f1f1"}})),r.a.createElement(i.a,{style:[b.row,{marginHorizontal:0,marginTop:20,justifyContent:"center"}]},r.a.createElement(u.a,{style:{backgroundColor:"#27496d",height:50,width:X-30,borderRadius:25,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),_(null),v(null),z(null),D(!0),e.next=7,l.a.awrap(S("/auth/register/",{name:B,password:F,email:M}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(D(!1),"web"===p.a.OS){t.next=8;break}return t.next=4,l.a.awrap(ae.setItem("@ocean_king:user",e.data.user._id));case 4:return t.next=6,l.a.awrap(ae.setItem("@ocean_king:username",e.data.user.name));case 6:t.next=10;break;case 8:localStorage.setItem("@ocean_king:user",e.data.user._id),localStorage.setItem("@ocean_king:username",e.data.user.name);case 10:Z({index:1,routes:[{name:"Home"}]});case 11:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){D(!1),d("Registration fail")})));case 7:case"end":return e.stop()}}),null,null,null,Promise));case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(w.a,{name:"address-book",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(f.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Sign up")))),"web"===p.a.OS&&T&&r.a.createElement(i.a,{style:[{width:"100%",height:"100%",position:"absolute",alignContent:"center",justifyContent:"center",backgroundColor:"#21212180"}]},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(m.a,{size:"large",color:"#f1f1f1"}),r.a.createElement(f.a,{style:{color:"#f1f1f1"}}," Loanding..."))))}"web"!==p.a.OS&&(ae=n(139).AsyncStorage,re=n(112).default);var le=n(682),ce=Object(le.a)();var se=function(){return r.a.createElement(ce.Navigator,{initialRouteName:"Login",screenOptions:{headerTintColor:"white"}},r.a.createElement(ce.Screen,{name:"Login",component:H,options:{headerShown:!1}}),r.a.createElement(ce.Screen,{name:"Join",component:ne,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Join game"}}),r.a.createElement(ce.Screen,{name:"Game",component:$,options:{headerShown:!1}}),r.a.createElement(ce.Screen,{name:"Home",component:P,options:{headerShown:!1}}),r.a.createElement(ce.Screen,{name:"Register",component:oe,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Register"}}))},ie=n(79),ue=n(374),me=n(315);function fe(){return r.a.createElement(i.a,{style:{flex:1}},r.a.createElement(y.b,null,r.a.createElement(h.a,{backgroundColor:"#212121",barStyle:"light-content"}),r.a.createElement(me.a,null,r.a.createElement(ue.a,{store:Q},r.a.createElement(se,null)))))}"web"===p.a.OS&&(ie.a.registerComponent("App",(function(){return fe})),ie.a.runApplication("App",{rootTag:document.getElementById("root")}));t.a=fe},383:function(e,t,n){n(384),n(385),e.exports=n(668)},384:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/ocean_king/expo-service-worker.js",{scope:"/ocean_king/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},614:function(e,t){},617:function(e,t,n){e.exports=n.p+"static/media/red.4edff3e8.jpg"},618:function(e,t,n){e.exports=n.p+"static/media/blue.c4106c52.jpg"},619:function(e,t,n){e.exports=n.p+"static/media/yellow.6cbb130b.jpg"},620:function(e,t,n){e.exports=n.p+"static/media/black.05b096c0.jpg"},621:function(e,t,n){e.exports=n.p+"static/media/flag1.846e401f.jpg"},622:function(e,t,n){e.exports=n.p+"static/media/flag2.846e401f.jpg"},623:function(e,t,n){e.exports=n.p+"static/media/flag3.846e401f.jpg"},624:function(e,t,n){e.exports=n.p+"static/media/flag4.846e401f.jpg"},625:function(e,t,n){e.exports=n.p+"static/media/flag5.846e401f.jpg"},626:function(e,t,n){e.exports=n.p+"static/media/m1.1bc34f62.jpg"},627:function(e,t,n){e.exports=n.p+"static/media/m2.1bc34f62.jpg"},628:function(e,t,n){e.exports=n.p+"static/media/p1.23e150a7.jpg"},629:function(e,t,n){e.exports=n.p+"static/media/p2.9657a484.jpg"},630:function(e,t,n){e.exports=n.p+"static/media/p3.3c1e56fb.jpg"},631:function(e,t,n){e.exports=n.p+"static/media/p4.59a67bec.jpg"},632:function(e,t,n){e.exports=n.p+"static/media/p5.88cd1495.jpg"},633:function(e,t,n){e.exports=n.p+"static/media/sk.58838fda.jpg"},634:function(e,t,n){e.exports=n.p+"static/media/v0.daf31f55.png"},635:function(e,t,n){e.exports=n.p+"static/media/v1.aa9d8911.png"},636:function(e,t,n){e.exports=n.p+"static/media/v2.1aaad04c.png"},637:function(e,t,n){e.exports=n.p+"static/media/v3.ada89e53.png"},638:function(e,t,n){e.exports=n.p+"static/media/v4.a9be7869.png"},639:function(e,t,n){e.exports=n.p+"static/media/v5.23284131.png"},640:function(e,t,n){e.exports=n.p+"static/media/v6.47514c2d.png"},641:function(e,t,n){e.exports=n.p+"static/media/v7.2b9ace0e.png"},642:function(e,t,n){e.exports=n.p+"static/media/v8.49184ec6.png"},643:function(e,t,n){e.exports=n.p+"static/media/v9.b6207693.png"},644:function(e,t,n){e.exports=n.p+"static/media/v10.0256c952.png"},645:function(e,t,n){e.exports=n.p+"static/media/v11.954b34fe.png"},646:function(e,t,n){e.exports=n.p+"static/media/v12.9f4544f2.png"},647:function(e,t,n){e.exports=n.p+"static/media/v13.85da6b87.png"},648:function(e,t,n){e.exports=n.p+"static/media/back.68a8d42f.png"},649:function(e,t,n){e.exports=n.p+"static/media/binary.0251c634.jpg"}},[[383,1,2]]]);
//# sourceMappingURL=app.977bfb0b.chunk.js.map