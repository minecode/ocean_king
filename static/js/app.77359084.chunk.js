(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{160:function(e,t,n){e.exports=n.p+"static/media/flag.c3ce17b2.png"},336:function(e,t,n){e.exports=n.p+"static/media/pirate_1.3d8dcf90.png"},337:function(e,t,n){e.exports=n.p+"static/media/pirate_2.1c90b468.png"},338:function(e,t,n){e.exports=n.p+"static/media/f.fc7bbdf9.png"},339:function(e,t,n){e.exports=n.p+"static/media/p.be2dc243.png"},414:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(3),l=n.n(o),c=n(17),s=n.n(c),i=n(2),u=n(5),f=n(44),m=n(4).a.create({container:{flex:1,backgroundColor:"#212121",justifyContent:"center",marginVertical:20},row:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginHorizontal:20}}),d=n(368),p=Object(d.create)({baseURL:"http://192.168.1.68:3000/"});function g(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(p.post(e,JSON.stringify(t),{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){throw e})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),null,null,null,Promise)}function y(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(p.get(e,t,{headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){throw e})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),null,null,null,Promise)}p.addAsyncResponseTransform((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw e;case 2:case"end":return t.stop()}}),null,null,null,Promise)}));var w=null,b=null;function h(e){return Object(a.useEffect)((function(){"web"!==u.a.OS&&w("EMULATOR")}),[]),r.a.createElement(r.a.Fragment,null,"web"!==u.a.OS&&r.a.createElement(b,{bannerSize:"fullBanner",adUnitID:"ca-app-pub-7606799175531903/7143162423",servePersonalizedAds:!0,bannerSize:"smartBannerLandscape"}))}"web"!==u.a.OS&&(w=n(197).setTestDeviceIDAsync,b=n(197).AdMobBanner);var E=n(12);function x(e){return r.a.createElement(i.a,{style:[m.row,{justifyContent:"flex-start",marginBottom:20}]},r.a.createElement(E.a,{style:{color:"#a1a1a1"}},"web"===u.a.OS&&"web"," v202004161426"))}function v(e){return r.a.createElement(r.a.Fragment,null,e.title&&r.a.createElement(i.a,{style:[m.row,{justifyContent:"center",marginVertical:20}]},r.a.createElement(E.a,{style:[{fontSize:30,fontWeight:"bold",color:"#f1f1f1",textAlign:"center"},e.style]},e.title)))}function S(e){return r.a.createElement(r.a.Fragment,null,null!==e.error&&r.a.createElement(i.a,{style:[m.row,{justifyContent:"center",alignItems:"center"}]},r.a.createElement(E.a,{style:{color:"red",textAlign:"center"}},e.error)))}var C=n(31);function O(e){return r.a.createElement(i.a,{style:[m.row,{justifyContent:"center"}]},r.a.createElement(C.c,{source:n(625),style:{width:200,height:200},placeholderStyle:{backgroundColor:"transparent"}}))}var k=n(23),j=n(30);function P(e){var t=j.a.get("window").width;return r.a.createElement(k.a,{style:{backgroundColor:e.firstColor,height:e.small?40:50,width:e.small?40:"web"===u.a.OS?240:(t-45)/2,borderRadius:25,marginLeft:(u.a.OS,10),marginRight:(u.a.OS,10),marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:e.action},e.icon&&r.a.createElement(C.b,{name:e.icon,color:e.secondColor,type:"font-awesome",iconStyle:{margin:10}}),e.text&&r.a.createElement(E.a,{style:{color:e.secondColor,margin:5,fontWeight:"bold"}},e.text))}var _=n(205);function z(e){return r.a.createElement(i.a,{style:[m.row,{justifyContent:"center",marginTop:20}]},r.a.createElement(k.a,{onPress:function(){_.a.openURL("https://github.com/fabiohfab")}},r.a.createElement(E.a,{style:{color:"#f1f1f1"}},"Created by F\xe1bio Henriques")))}function R(e){var t,n,a=arguments;return l.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=a.length>1&&void 0!==a[1]&&a[1],n=null,"web"===u.a.OS){r.next=11;break}return r.next=5,l.a.awrap(AsyncStorage.getItem("@ocean_king:user",null));case 5:return n=r.sent,r.next=8,l.a.awrap(AsyncStorage.getItem("@ocean_king:username",null));case 8:name=r.sent,r.next=13;break;case 11:n=localStorage.getItem("@ocean_king:user",null),name=localStorage.getItem("@ocean_king:username",null);case 13:if(t){r.next=17;break}null!=n&&e({index:1,routes:[{name:"Home"}]}),r.next=22;break;case 17:if(null===n||null===name){r.next=21;break}return r.abrupt("return",{user:n,username:name});case 21:e({index:1,routes:[{name:"Login"}]});case 22:case"end":return r.stop()}}),null,null,null,Promise)}var I=n(723),T=n(273);function L(e){var t=Object(a.useState)(null),n=s()(t,2),o=n[0],c=n[1],d=Object(a.useState)(null),p=s()(d,2),w=p[0],b=p[1],E=Object(a.useState)(!1),C=s()(E,2),k=C[0],j=C[1],_=Object(a.useState)(!1),L=s()(_,2),W=(L[0],L[1]),A=Object(a.useState)(null),H=s()(A,2),D=H[0],B=H[1],V=e.navigation,G=V.navigate,M=V.reset,F=function(e){console.log(e)};return Object(a.useEffect)((function(){null!==D&&null!==o&&g("/auth/pn/",{user:o,token:D}).then((function(e){j(null),W(!0)})).catch((function(e){j("Ocorreu um erro. Por favor, tente novamente mais tarde.")}))}),[D,o]),Object(a.useEffect)((function(){!function(){var e,t,n;l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(R(M,!0));case 2:e=a.sent,t=e.user,n=e.username,c(t),b(n);case 7:case"end":return a.stop()}}),null,null,null,Promise)}(),function(){var e;l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(T.b(T.a));case 2:if(e=t.sent,"granted"===e.status){t.next=7;break}return alert("No notification permissions!"),t.abrupt("return");case 7:return t.t0=B,t.next=10,l.a.awrap(I.a.getExpoPushTokenAsync());case 10:t.t1=t.sent,(0,t.t0)(t.t1);case 12:case"end":return t.stop()}}),null,null,null,Promise)}();I.a.addListener(F)}),[]),Object(a.useEffect)((function(){null!=o&&null!=w&&l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(y("/game/inGame",{user:o}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.data.inGame&&M({index:1,routes:[{name:"Game",params:{game:e.data.game._id}}]});case 1:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){})));case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[o,w]),r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(h,null),r.a.createElement(i.a,{style:m.container},r.a.createElement(O,null),r.a.createElement(v,{title:w,style:{fontSize:15,fontWeight:"normal"}}),r.a.createElement(S,{error:k}),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,marginTop:20,justifyContent:"web"===u.a.OS?"center":"space-between"}]},r.a.createElement(P,{text:"New game",icon:"gamepad",action:function(){l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,l.a.awrap(g("/game",{user:o}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:M({index:1,routes:[{name:"Game",params:{game:e.data.game._id}}]});case 1:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){console.log(e)})));case 3:e.next=6;break;case 5:j("Please, logout and try again");case 6:case"end":return e.stop()}}),null,null,null,Promise)},firstColor:"#142850",secondColor:"#f1f1f1"}),r.a.createElement(P,{text:"Join game",icon:"server",action:function(){G("Join")},firstColor:"#142850",secondColor:"#f1f1f1"})),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"web"===u.a.OS?"center":"space-between"}]},r.a.createElement(P,{text:"Scoreboards",icon:"list",action:function(){G("Scoreboards")},firstColor:"#27496d",secondColor:"#f1f1f1"}),r.a.createElement(P,{text:"Options",icon:"cogs",action:function(){G("Settings")},firstColor:"#27496d",secondColor:"#f1f1f1"})),r.a.createElement(z,null)),r.a.createElement(x,null))}n(416);var W=n(152),A=null;function H(e){var t=Object(a.useState)(null),n=s()(t,2),o=n[0],c=n[1],f=j.a.get("window").width,d=e.reset;function p(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e.data.dataBase_user){t.next=7;break}return t.next=3,l.a.awrap(AsyncStorage.setItem("@ocean_king:user",e.data.dataBase_user._id));case 3:return t.next=5,l.a.awrap(AsyncStorage.setItem("@ocean_king:username",e.data.dataBase_user.name));case 5:t.next=11;break;case 7:return t.next=9,l.a.awrap(AsyncStorage.setItem("@ocean_king:user",e.data.new_user._id));case 9:return t.next=11,l.a.awrap(AsyncStorage.setItem("@ocean_king:username",e.data.new_user.name));case 11:d({index:1,routes:[{name:"Home"}]});case 12:case"end":return t.stop()}}),null,null,null,Promise)}var y=function(){var e,t,n,a,r,o;return l.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:s.next=21;break;case 4:if(e=s.sent,t=e.type,e.accessToken,n=e.user,"success"!==t){s.next=13;break}return s.next=11,l.a.awrap(g("/auth/googleLogin/",{user:n}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(p(e));case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){console.log(e),c("Authentication fail code: 3")})));case 11:s.next=14;break;case 13:console.log("cancelled");case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(1),console.log("error",s.t0);case 19:s.next=40;break;case 21:return s.prev=21,s.next=24,l.a.awrap(W.a());case 24:return s.next=26,l.a.awrap(W.d());case 26:if(a=s.sent,r=a.type,o=a.user,"success"!==r){s.next=34;break}return s.next=32,l.a.awrap(g("/auth/googleLogin/",{user:o}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(p(e));case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){c("Authentication fail code: 0")})));case 32:s.next=35;break;case 34:c("Authentication fail code: 1");case 35:s.next=40;break;case 37:s.prev=37,s.t1=s.catch(21),c("Authentication fail code: 2"+s.t1.message);case 40:case"end":return s.stop()}}),null,null,[[1,16],[21,37]],Promise)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{error:o}),r.a.createElement(i.a,{style:[m.row,{justifyContent:"center"}]},r.a.createElement(k.a,{style:{backgroundColor:"#142850",height:50,width:"web"===u.a.OS?500:f-30,borderRadius:25,marginLeft:10,marginRight:10,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:"web"===u.a.OS?e.renderProps.onClick:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(y());case 2:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.b,{name:"google",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Sign in with google"))))}function D(e){var t=Object(a.useState)(null),n=s()(t,2),o=n[0],c=n[1],f=Object(a.useState)(!1),d=s()(f,2),p=d[0],y=d[1],w=e.reset;return Object(a.useEffect)((function(){"web"!==u.a.OS&&l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(W.c());case 2:case"end":return e.stop()}}),null,null,null,Promise)})),r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{error:o}),r.a.createElement(S,{error:p}),"web"===u.a.OS&&r.a.createElement(i.a,{style:[m.row,{justifyContent:"center"}]},r.a.createElement(A,{clientId:"150873780761-chl8dvdsnlv89sqqlgj20t9oojpcjp8i.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(g("/auth/googleLogin/",{user:{email:e.profileObj.email,name:e.profileObj.name,imageURL:e.profileObj.imageUrl}}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:void 0!==e.data.dataBase_user?(localStorage.setItem("@ocean_king:user",e.data.dataBase_user._id),localStorage.setItem("@ocean_king:username",e.data.dataBase_user.name)):(localStorage.setItem("@ocean_king:user",e.data.new_user._id),localStorage.setItem("@ocean_king:username",e.data.new_user.name)),w({index:1,routes:[{name:"Home"}]});case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){c("Authentication fail")})));case 2:case"end":return t.stop()}}),null,null,null,Promise)},onFailure:function(e){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:y("Authentication failed code: -1");case 1:case"end":return e.stop()}}),null,null,null,Promise)},cookiePolicy:"single_host_origin",scope:"profile email openid",render:function(e){return r.a.createElement(H,{reset:w,renderProps:e})}})),"web"!==u.a.OS&&r.a.createElement(H,{reset:w}))}function B(e){var t=e.navigation.reset;return Object(a.useEffect)((function(){R(t)}),[]),r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(h,null),r.a.createElement(i.a,{style:m.container},r.a.createElement(O,null),r.a.createElement(v,{title:"Login"}),r.a.createElement(D,{reset:t}),r.a.createElement(z,null)),r.a.createElement(x,null))}"web"!==u.a.OS?AsyncStorage=n(161).AsyncStorage:A=n(636).GoogleLogin;var V=n(37),G=n(93),M=n(64),F=n(178),N=n.n(F),J=n(56),U=null;function q(e){var t=j.a.get("window"),n=t.height,a=t.width;return r.a.createElement(r.a.Fragment,null,"web"!==u.a.OS&&r.a.createElement(U,{isVisible:e.visible,deviceHeight:n+J.a.currentHeight,coverScreen:!1,backdropColor:"#212121",backdropOpacity:.8},e.content),"web"===u.a.OS&&e.visible&&r.a.createElement(i.a,{style:[{width:a,height:n,position:"absolute",alignContent:"center",justifyContent:"center",backgroundColor:"#21212180"}]},e.content))}function K(e){var t=e.gameState,n=e.players,a=e.game,o=e.user,c=e.newMessage,s=e.setNewMessage,u=e.navigate,f=e.socket,d=e.room,p=e.startGame,g=e.leaveGame;return t&&"in queue"===t?r.a.createElement(i.a,{style:[m.container,{alignItems:"center"}]},r.a.createElement(i.a,null,r.a.createElement(i.a,{style:m.row},r.a.createElement(E.a,{style:{fontSize:30,fontWeight:"bold",color:"#f1f1f1"}},"Players")),n&&0!==n.length&&n.map((function(e,t){return r.a.createElement(i.a,{style:m.row,key:t},r.a.createElement(E.a,{style:{color:"#f1f1f1"}},e.player.name))}))),r.a.createElement(i.a,{style:[m.row,{marginTop:20}]},r.a.createElement(P,{icon:"comments",firstColor:c?"#2177aa":"#f1f1f1",secondColor:c?"#f1f1f1":"#212121",action:function(){s(!1),u("Chat",{socket:f,room:d,user:o})}})),o&&a&&a.createdBy&&o==a.createdBy._id&&n&&n.length>=2&&n.length<=6&&r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"center"}]},r.a.createElement(P,{icon:"play",firstColor:"#27496d",secondColor:"#f1f1f1",action:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(p());case 2:case"end":return e.stop()}}),null,null,null,Promise)}})),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"center"}]},r.a.createElement(P,{icon:"sign-out",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(g());case 2:case"end":return e.stop()}}),null,null,null,Promise)}}))):null}"web"!==u.a.OS&&(U=n(127).default);var Z=n(24),Q=n.n(Z),X=(n(127),n(11)),Y=n.n(X),$=n(179);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){Y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne={socket:null,room:null};var ae=Object($.b)({socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SOCKET":return te({},e,{socket:t.socket,room:t.room});case"REMOVE_SOCKET":return te({},e,{socket:null,room:null});default:return e}}}),re=Object($.c)(ae);function oe(e){var t={red:n(667),blue:n(668),yellow:n(669),black:n(670),flag1:n(160),flag2:n(160),flag3:n(160),flag4:n(160),flag5:n(160),m1:n(671),m2:n(672),p1:n(336),p2:n(337),p3:n(673),p4:n(336),p5:n(337),sk:n(674),1:n(675),2:n(676),3:n(677),4:n(678),5:n(679),6:n(680),7:n(681),8:n(682),9:n(683),10:n(684),11:n(685),12:n(686),13:n(687),back:n(688),binary:n(689),f:n(338),p:n(339)},a=e.overlay?.3:1;return r.a.createElement(C.c,{source:t[e.color],style:{width:75.9,height:124.2},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}},("red"===e.color||"blue"===e.color||"yellow"===e.color||"black"===e.color)&&r.a.createElement(i.a,null,r.a.createElement(i.a,{style:{marginLeft:2.5,marginTop:3,position:"absolute"}},r.a.createElement(C.c,{source:t[e.value],style:{width:20.3,height:20.3},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(i.a,{style:{marginLeft:54.2,marginTop:102,position:"absolute"}},r.a.createElement(C.c,{source:t[e.value],style:{width:20.3,height:20.3},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}}))),"binary"==e.color&&"0"!==e.value&&r.a.createElement(i.a,null,r.a.createElement(i.a,{style:{marginLeft:2.5,marginTop:3,position:"absolute"}},r.a.createElement(C.c,{source:t[e.value],style:{width:20.3,height:20.3},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(i.a,{style:{marginLeft:54.2,marginTop:102,position:"absolute"}},r.a.createElement(C.c,{source:t[e.value],style:{width:20.3,height:20.3},containerStyle:{opacity:a},placeholderStyle:{backgroundColor:"transparent"}}))))}function le(e){var t=Object(a.useState)(!1),n=s()(t,2),o=n[0],c=n[1],u=Object(a.useState)(null),f=s()(u,2),d=f[0],p=f[1],g=Object(a.useState)(!1),y=s()(g,2),w=y[0],b=y[1];return Object(a.useEffect)((function(){if(null===e.playedCardsState||void 0===e.playedCardsState||e.disabled||null===e.cards||void 0===e.cards||e.currentPlayer!==e.user)c(!1),p(!1),b(!1);else{var t=!1;e.playedCardsState.sort((function(e,t){return void 0!==e.createdAt&&void 0!==t.createdAt?e.createdAt<t.createdAt?-1:1:void 0===e.createdAt?-1:1})).map((function(e,n){if(!t&&("yellow"===e.card[0].color||"red"===e.card[0].color||"blue"===e.card[0].color||"black"===e.card[0].color))return c(!0),p(e.card[0].color),void(t=!0)}))}}),[e.playedCardsState,e.disabled,e.currentPlayer,e.user]),Object(a.useEffect)((function(){o&&d&&e.cards&&e.cards.map((function(e,t){e.color===d&&b(!0)}))}),[o,d,e.cards]),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,marginBottom:20}]},r.a.createElement(V.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,decelerationRate:0,snapToInterval:80,snapToAlignment:"center",contentInset:{top:0,left:0,bottom:0,right:0},pagingEnabled:!1,contentContainerStyle:{flexGrow:1,justifyContent:"center"}},e.cards&&0!==e.cards.length&&e.cards.map((function(t,n){return r.a.createElement(i.a,{key:n,style:{marginHorizontal:5,elevation:n+5}},!e.disabled&&r.a.createElement(k.a,{onPress:function(){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.currentPlayer===e.user&&(w&&o&&null!==d&&t.color!==d&&("red"===t.color||"yellow"===t.color||"blue"===t.color||"black"===t.color)||(e.setOpen(!0),e.setCardToPlay(t)));case 1:case"end":return n.stop()}}),null,null,null,Promise)}},e.currentPlayer!==e.user&&r.a.createElement(oe,{color:t.color,value:t.value,overlay:!0}),e.currentPlayer===e.user&&r.a.createElement(oe,{color:t.color,value:t.value,overlay:w&&o&&null!==d&&t.color!==d&&!("red"!==t.color&&"yellow"!==t.color&&"blue"!==t.color&&"black"!==t.color)})),e.disabled&&r.a.createElement(oe,{color:t.color,value:t.value,overlay:!1}))}))))}function ce(e){return e.pontuations?r.a.createElement(i.a,{style:{flex:1,justifyContent:"flex-start",marginVertical:20}},r.a.createElement(i.a,{style:[m.row,{justifyContent:"flex-start"}]},r.a.createElement(C.b,{name:"list",color:"#f1f1f1",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(v,{title:"Scores"})),e.pontuations.map((function(e,t){return r.a.createElement(i.a,{style:[m.row,{justifyContent:"space-between"}],key:t},r.a.createElement(E.a,{style:{fontSize:15,fontWeight:"bold",color:"#f1f1f1",marginHorizontal:5}},e.player.name,":"," "),r.a.createElement(E.a,{style:{backgroundColor:"#212121",borderRadius:20,paddingHorizontal:5,color:"#f1f1f1",fontWeight:"bold"}},e.points))}))):r.a.createElement(i.a,{style:{flex:1,justifyContent:"space-between",marginVertical:20}})}function se(e){var t=e.gameState,n=e.alreadyBet,a=e.user,o=e.newMessage,c=e.setNewMessage,s=e.navigate,u=e.socket,f=e.room,d=e.leaveGame,p=e.cards,g=e.maxBets,y=e.pontuations;e.placeBet;return t&&"place bets"===t&&n?r.a.createElement(i.a,{style:[m.container,{marginVertical:0,justifyContent:"space-between"}]},r.a.createElement(i.a,{style:[m.row,{marginTop:20}]},r.a.createElement(E.a,{style:{fontSize:25,fontWeight:"bold",color:"#f1f1f1",marginHorizontal:10}},"Round ",g),r.a.createElement(P,{icon:"list",firstColor:"#21b121",secondColor:"#f1f1f1",action:function(){s("Pontuations",{pontuations:y})},small:!0}),r.a.createElement(P,{icon:"comments",action:function(){c(!1),s("Chat",{socket:u,room:f,user:a})},firstColor:o?"#2177aa":"#f1f1f1",secondColor:o?"#f1f1f1":"#212121",small:!0}),r.a.createElement(P,{icon:"sign-out",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(d());case 2:case"end":return e.stop()}}),null,null,null,Promise)},small:!0})),r.a.createElement(i.a,null,r.a.createElement(ce,{pontuations:y})),r.a.createElement(v,{title:"Waiting for other players...",style:{fontSize:25,marginTop:20}}),r.a.createElement(le,{cards:p,disabled:!0})):t&&"place bets"===t&&!n?r.a.createElement(i.a,{style:[m.container,{marginVertical:0,justifyContent:"space-between"}]},r.a.createElement(i.a,{style:[m.row,{marginTop:20}]},r.a.createElement(E.a,{style:{fontSize:25,fontWeight:"bold",color:"#f1f1f1",marginHorizontal:10}},"Round ",g),r.a.createElement(P,{icon:"list",firstColor:"#21b121",secondColor:"#f1f1f1",action:function(){s("Pontuations",{pontuations:y})},small:!0}),r.a.createElement(P,{icon:"comments",action:function(){c(!1),s("Chat",{socket:u,room:f,user:a})},firstColor:o?"#2177aa":"#f1f1f1",secondColor:o?"#f1f1f1":"#212121",small:!0}),r.a.createElement(P,{icon:"sign-out",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(d());case 2:case"end":return e.stop()}}),null,null,null,Promise)},small:!0})),r.a.createElement(i.a,null,r.a.createElement(ce,{pontuations:y})),r.a.createElement(i.a,{style:[m.row,{flexWrap:"wrap"}]},null!==g&&Q()(Array(g+1)).map((function(t,n){return r.a.createElement(k.a,{key:n,style:{backgroundColor:"#2177aa",height:40,width:80,borderRadius:20,alignItems:"center",justifyContent:"center",margin:5},onPress:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.setBetOpen(!0),e.setBet(n);case 2:case"end":return t.stop()}}),null,null,null,Promise)}},r.a.createElement(E.a,{style:{color:"#f1f1f1",fontSize:20}},parseInt(n)))})),null!==g&&Q()(Array(10-g)).map((function(e,t){return r.a.createElement(k.a,{key:t,style:{backgroundColor:"#41414190",height:40,width:80,borderRadius:20,alignItems:"center",justifyContent:"center",margin:5},disabled:!0},r.a.createElement(E.a,{style:{color:"#f1f1f190",fontSize:20}},parseInt(t+1+g)))}))),r.a.createElement(le,{cards:p,disabled:!0})):null}function ie(e){var t=e.betsState,n=e.tempResults,a=e.currentPlayer,o=e.playedCardsState;return t&&n?r.a.createElement(i.a,{style:[m.row,{justifyContent:"center",flexWrap:"wrap",margin:0}]},t.map((function(t,l){return r.a.createElement(i.a,{key:l,style:{alignItems:"center",margin:10}},t&&r.a.createElement(E.a,{style:{fontSize:15,fontWeight:"bold",color:t.player._id===a?"#21b121":"#f1f1f1"}},t.player.name.split(" ")[0]),o&&t&&o.map((function(n,a){if(n.player._id===t.player._id)return r.a.createElement(oe,{key:a,color:n.card[0].color,value:n.card[0].value,overlay:!!e.displayWinner&&t.player._id!==e.displayWinner})})),t&&r.a.createElement(E.a,{style:{fontSize:15,fontWeight:"bold",color:t.player._id===a?"#21b121":"#f1f1f1"}},n[t.player._id],"/",t.value))}))):null}function ue(e){var t=e.user,n=e.socket,a=e.room,o=e.gameState,c=e.maxBets,s=e.navigate,u=e.pontuations,f=e.setNewMessage,d=e.newMessage,p=e.leaveGame,g=e.betsState,y=e.tempResults,w=e.playedCardsState,b=e.currentPlayer,h=e.setCurrentPlayer,x=e.cards,v=e.game,S=e.setTempCard,C=e.playCard,O=e.setChoiceVisible,k=e.displayWinner,j=e.open,_=e.setOpen,z=e.cardToPlay,R=e.setCardToPlay;return o&&"in game"===o?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{style:[m.container,{marginVertical:0,justifyContent:"space-between"}]},r.a.createElement(i.a,{style:[m.row,{marginTop:20}]},r.a.createElement(E.a,{style:{fontSize:25,fontWeight:"bold",color:"#f1f1f1",marginHorizontal:10}},"Round ",c),r.a.createElement(P,{icon:"list",firstColor:"#21b121",secondColor:"#f1f1f1",action:function(){s("Pontuations",{pontuations:u})},small:!0}),r.a.createElement(P,{icon:"comments",action:function(){f(!1),s("Chat",{socket:n,room:a,user:t})},firstColor:d?"#2177aa":"#f1f1f1",secondColor:d?"#f1f1f1":"#212121",small:!0}),r.a.createElement(P,{icon:"sign-out",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(p());case 2:case"end":return e.stop()}}),null,null,null,Promise)},small:!0})),r.a.createElement(ie,{currentPlayer:b,playedCardsState:w,tempResults:y,betsState:g,displayWinner:k}),r.a.createElement(le,{cards:x,disabled:!1,user:t,game:v,currentPlayer:b,setCurrentPlayer:h,setTempCard:S,playCard:C,playedCardsState:w,setChoiceVisible:O,open:j,setOpen:_,cardToPlay:z,setCardToPlay:R}))):null}function fe(e){return!e.gameState||"finished"!==e.gameState&&"canceled"!==e.gameState?null:r.a.createElement(i.a,{style:[m.container,{alignItems:"center"}]},!e.pontuations&&r.a.createElement(v,{title:"Waiting for scores..."}),r.a.createElement(ce,{pontuations:e.pontuations}),r.a.createElement(i.a,{style:[m.container,{marginVertical:0,justifyContent:"space-between"}]},r.a.createElement(i.a,{style:[m.row,{marginTop:20}]},r.a.createElement(P,{icon:"comments",action:function(){e.setNewMessage(!1),e.navigate("Chat",{socket:e.socket,room:e.room,user:e.user})},firstColor:e.newMessage?"#2177aa":"#f1f1f1",secondColor:e.newMessage?"#f1f1f1":"#212121",small:!0}),r.a.createElement(P,{icon:"sign-out",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(e.leaveGame());case 2:case"end":return t.stop()}}),null,null,null,Promise)},small:!0}))))}function me(e){var t=Object(a.useState)(null),o=s()(t,2),c=o[0],m=o[1],d=Object(a.useState)(null),p=s()(d,2),w=p[0],b=p[1],x=Object(a.useState)(null),v=s()(x,2),S=v[0],O=v[1],j=Object(a.useState)(null),_=s()(j,2),z=_[0],I=_[1],T=Object(a.useState)(null),L=s()(T,2),W=L[0],A=L[1],H=Object(a.useState)(null),D=s()(H,2),B=D[0],F=D[1],J=Object(a.useState)(!1),U=s()(J,2),Z=U[0],Q=U[1],X=Object(a.useState)("in queue"),Y=s()(X,2),$=Y[0],ee=Y[1],te=Object(a.useState)(null),ne=s()(te,2),ae=ne[0],re=ne[1],le=Object(a.useState)(null),ce=s()(le,2),ie=ce[0],me=ce[1],de=Object(a.useState)(null),pe=s()(de,2),ge=pe[0],ye=pe[1],we=Object(a.useState)(!1),be=s()(we,2),he=be[0],Ee=be[1],xe=Object(a.useState)(null),ve=s()(xe,2),Se=ve[0],Ce=ve[1],Oe=Object(a.useState)(null),ke=s()(Oe,2),je=ke[0],Pe=ke[1],_e=Object(a.useState)(null),ze=s()(_e,2),Re=ze[0],Ie=ze[1],Te=Object(a.useState)(null),Le=s()(Te,2),We=Le[0],Ae=Le[1],He=Object(a.useState)(!1),De=s()(He,2),Be=De[0],Ve=De[1],Ge=Object(a.useState)(null),Me=s()(Ge,2),Fe=Me[0],Ne=Me[1],Je=Object(a.useState)(null),Ue=s()(Je,2),qe=Ue[0],Ke=Ue[1],Ze=Object(a.useState)(!1),Qe=s()(Ze,2),Xe=Qe[0],Ye=Qe[1],$e=Object(a.useState)(!1),et=s()($e,2),tt=et[0],nt=et[1],at=Object(a.useState)(null),rt=s()(at,2),ot=rt[0],lt=rt[1],ct=Object(a.useState)(!1),st=s()(ct,2),it=st[0],ut=st[1],ft=Object(a.useState)(null),mt=s()(ft,2),dt=mt[0],pt=mt[1],gt=e.navigation,yt=gt.navigate,wt=gt.reset;function bt(t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:Q(!0),"active"===t&&(null!==Fe?null!==c&&null!==B&&null!==qe&&St(qe):null!==c&&null!==B&&null!==qe&&(Ne(N()("https://skull-king-game.herokuapp.com",{transports:["websocket"],autoConnect:!0})),Ke(e.route.params.game))),Q(!1);case 3:case"end":return n.stop()}}),null,null,null,Promise)}function ht(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/pontuations",{game:e}).then((function(e){e.data.pontuations.sort((function(e,t){return e.points>t.points?-1:1})),A(e.data.pontuations),Q(!1)})).catch((function(e){Q(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function Et(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/cards",{user:c,game:e}).then((function(e){I(e.data.cards.cards)})).catch((function(e){Q(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function xt(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/playersStatus",{game:e}).then((function(e){Ce(e.data.bet),Ie(e.data.played_cards),Pe(e.data.temp_results)})).catch((function(e){})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function vt(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(g("/game/cards",{user:c,game:t,card:e}).then((function(e){I(e.data.new_cards.cards)})).catch((function(e){})));case 2:case"end":return n.stop()}}),null,null,null,Promise)}function St(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/gamePlayers",{game:e}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:O(e.data.game_players);case 1:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){Q(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function Ct(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(g("/game/leave",{user:c}).then((function(e){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Q(!1),Fe.emit("leave room",qe,c),Fe.emit("forceDisconnect"),Ne(null),Ke(null),wt({index:1,routes:[{name:"Home"}]});case 6:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){Q(!1)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)}function Ot(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/current",{game:e,user:c}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:b(e.data.current_game),ee(e.data.current_game.status),"place bets"!==e.data.current_game.status&&"in game"!==e.data.current_game.status||(re(e.data.round.roundNumber),e.data.bet?Ee(!0):Ee(!1));case 3:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){Q(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}function kt(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(g("/game/bet",{user:c,game:w._id,value:e}).then((function(e){Ee(!0)})).catch((function(e){})));case 2:return t.abrupt("return");case 3:case"end":return t.stop()}}),null,null,null,Promise)}return Object(a.useEffect)((function(){!function(){var e,t,n;l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(R(wt,!0));case 2:e=a.sent,t=e.user,n=e.username,m(t),F(n);case 7:case"end":return a.stop()}}),null,null,null,Promise)}()}),[]),Object(a.useEffect)((function(){var e;w&&$&&qe&&("place bets"===$?(Et(qe),ht(qe)):"in game"===$?(Ee(!1),Et(qe),e=qe,l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/currentPlayer",{game:e}).then((function(e){ye(e.data.player._id)})).catch((function(e){})));case 2:case"end":return t.stop()}}),null,null,null,Promise),xt(qe),ht(qe)):"finished"===$&&ht(qe))}),[w,$]),Object(a.useEffect)((function(){null!==S&&null!==qe?Ot(qe):null===qe?Ke(e.route.params.game):null===S&&St(qe)}),[S]),Object(a.useEffect)((function(){null!==Fe&&null!==qe&&(St(qe),Ot(qe),Fe.on("user join",(function(e){St(qe)})),Fe.on("user leave",(function(e){St(qe)})),Fe.on("new message sended",(function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),null,null,null,Promise)})),Fe.on("place bets",(function(e){ye(null),re(e),Ot(qe),me(null),ye(null)})),Fe.on("start round",(function(){u.a.OS,ye(null),ee("in game")})),Fe.on("new turn",(function(e){me(null),Ie(null),ye(e._id),xt(qe)})),Fe.on("next play",(function(e){ye(e.player._id),xt(qe)})),Fe.on("turn winner",(function(e){me(e._id),ye(null)})),Fe.on("new message sended",(function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.navigation.isFocused()&&Ye(!0);case 1:case"end":return t.stop()}}),null,null,null,Promise)})),Fe.on("turn finish",(function(){ye(null)})),Fe.on("game finished",(function(){ee("finished"),me(null),ye(null)})),Fe.on("card played",(function(e,t){xt(qe)})),Fe.emit("set nickname",B),Fe.emit("join room",qe,c))}),[Fe,qe]),Object(a.useEffect)((function(){if(null!==c&&null!==B)return null===Fe?(Ne(N()("https://skull-king-game.herokuapp.com",{transports:["websocket"],autoConnect:!0})),Ke(e.route.params.game),G.a.addEventListener("change",bt),function(){G.a.removeEventListener("change",bt)}):(G.a.addEventListener("change",bt),Q(!1),function(){G.a.removeEventListener("change",bt)})}),[c,B]),r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(h,null),r.a.createElement(V.a,{contentContainerStyle:{flexGrow:1},refreshControl:r.a.createElement(M.a,{refreshing:Z,onRefresh:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:null!==Fe?null!=c&&null!=B&&null!==qe&&St(qe):null!==c&&null!==B&&null!==qe&&(Ne(N()("https://skull-king-game.herokuapp.com",{transports:["websocket"],autoConnect:!0})),Ke(e.route.params.game));case 1:case"end":return t.stop()}}),null,null,null,Promise)}})},r.a.createElement(K,{gameState:$,players:S,game:w,user:c,newMessage:Xe,setNewMessage:Ye,navigate:yt,socket:Fe,room:qe,startGame:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(g("/game/start",{user:c}).then((function(e){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Q(!1);case 1:case"end":return e.stop()}}),null,null,null,Promise)})).catch((function(e){Q(!1)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)},leaveGame:Ct}),r.a.createElement(se,{gameState:$,alreadyBet:he,user:c,newMessage:Xe,setNewMessage:Ye,navigate:yt,socket:Fe,room:qe,leaveGame:Ct,cards:z,maxBets:ae,pontuations:W,placeBet:kt,setBet:pt,setBetOpen:ut}),r.a.createElement(ue,{user:c,socket:Fe,room:qe,gameState:$,maxBets:ae,navigate:yt,pontuations:W,setNewMessage:Ye,newMessage:Xe,leaveGame:Ct,betsState:Se,tempResults:je,playedCardsState:Re,currentPlayer:ge,setCurrentPlayer:ye,cards:z,game:w,setTempCard:Ae,playCard:vt,displayWinner:ie,setChoiceVisible:Ve,open:tt,setOpen:nt,cardToPlay:ot,setCardToPlay:lt}),r.a.createElement(fe,{user:c,socket:Fe,room:qe,gameState:$,pontuations:W,newMessage:Xe,setNewMessage:Ye,navigate:yt,leaveGame:Ct})),r.a.createElement(q,{visible:it&&null!==dt,content:r.a.createElement(i.a,{style:{flexDirection:"column",alignItems:"center"}},r.a.createElement(i.a,{style:{marginBottom:20}},r.a.createElement(i.a,{style:{backgroundColor:"#2177aa",height:40,width:80,borderRadius:20,alignItems:"center",justifyContent:"center",margin:5}},r.a.createElement(E.a,{style:{color:"#f1f1f1",fontSize:20}},dt))),r.a.createElement(P,{icon:"times",text:"Cancel",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){ut(!1),pt(null)}}),r.a.createElement(P,{icon:"check",text:"Confirm",firstColor:"#21b121",secondColor:"#f1f1f1",action:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return ut(!1),pt(null),e.next=4,l.a.awrap(kt(dt));case 4:case"end":return e.stop()}}),null,null,null,Promise)}}))}),r.a.createElement(q,{visible:tt&&null!==ot,content:r.a.createElement(i.a,{style:{flexDirection:"column",alignItems:"center"}},r.a.createElement(i.a,{style:{marginBottom:20}},r.a.createElement(oe,{color:null!==ot&&ot.color,value:null!==ot&&ot.value})),r.a.createElement(P,{icon:"times",text:"Cancel",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){nt(!1),lt(null)}}),r.a.createElement(P,{icon:"check",text:"Confirm",firstColor:"#21b121",secondColor:"#f1f1f1",action:function(){var e,t,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=ot,ge!==c){a.next=17;break}if((n=(t=z).indexOf(e))>-1&&t.splice(n,1),"binary"!==e.color){a.next=12;break}Ae(e),nt(!1),lt(null),Ve(!0),a.next=17;break;case 12:return ye(null),nt(!1),lt(null),a.next=17,l.a.awrap(vt(e,w));case 17:case"end":return a.stop()}}),null,null,null,Promise)}}))}),r.a.createElement(q,{visible:Be,content:r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center",marginBottom:20}},r.a.createElement(k.a,{style:{marginHorizontal:25},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(null),Ve(!1),e.next=4,l.a.awrap(vt({color:We.color,value:"f",index:58},w));case 4:Ae(null);case 5:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.c,{source:n(338),style:{width:50,height:50},placeholderStyle:{backgroundColor:"transparent"}})),r.a.createElement(k.a,{style:{marginHorizontal:25},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return ye(null),Ve(!1),e.next=4,l.a.awrap(vt({color:We.color,value:"p",index:58},w));case 4:Ae(null);case 5:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.c,{source:n(339),style:{width:50,height:50},placeholderStyle:{backgroundColor:"transparent"}}))),r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-around"}},r.a.createElement(P,{icon:"times",text:"Cancel",firstColor:"#a72121",secondColor:"#f1f1f1",action:function(){Ve(!1)}})))}))}var de=n(63),pe=n(354),ge=null;function ye(e){var t=j.a.get("window"),n=(t.height,t.width,Object(a.useState)(null)),o=s()(n,2),c=o[0],d=o[1],p=Object(a.useState)(null),w=s()(p,2),b=w[0],h=w[1],x=Object(a.useState)(!1),v=s()(x,2),S=v[0],O=v[1],P=Object(a.useState)(null),_=s()(P,2),z=_[0],R=_[1],I=e.navigation,T=(I.navigate,I.reset);function L(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(g("/game/join",{user:c,game:e}).then((function(t){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:O(!1),T({index:1,routes:[{name:"Game",params:{game:e}}]});case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){O(!1)})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}Object(a.useEffect)((function(){O(!0),function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=null,t=null,"web"===u.a.OS){n.next=11;break}return n.next=5,l.a.awrap(ge.getItem("@ocean_king:user",null));case 5:return e=n.sent,n.next=8,l.a.awrap(ge.getItem("@ocean_king:username",null));case 8:t=n.sent,n.next=13;break;case 11:e=localStorage.getItem("@ocean_king:user",null),t=localStorage.getItem("@ocean_king:username",null);case 13:null!=e?(d(e),h(t)):T({index:1,routes:[{name:"Login"}]});case 14:case"end":return n.stop()}}),null,null,null,Promise)}(),"web"!==u.a.OS&&Object(pe.a)("EMULATOR")}),[]);var W=function(e){"active"===e&&null!=c&&null!=b&&A()};function A(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(y("/game/",{user:c}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:O(!1),0!==e.data.games.length?R(e.data.games):R(null);case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){O(!1)})));case 2:case"end":return e.stop()}}),null,null,null,Promise)}Object(a.useEffect)((function(){if(null!=c&&null!=b)return A(),G.a.addEventListener("change",W),function(){G.a.removeEventListener("change",W)}}),[c,b]);return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(V.a,{refreshControl:r.a.createElement(M.a,{refreshing:S,onRefresh:function(){null!=c&&null!=b&&A()}})},r.a.createElement(i.a,{style:[m.container,{justifyContent:"flex-start",marginTop:0}]},r.a.createElement(i.a,{style:m.row},r.a.createElement(E.a,{style:{fontSize:30,fontWeight:"bold",color:"#f1f1f1"}},"Games")),z&&0!==z.length&&z.map((function(e,t){return r.a.createElement(i.a,{style:m.row,key:t},r.a.createElement(E.a,{style:{fontSize:20,color:"#f1f1f1"}},e.createdBy.name),r.a.createElement(k.a,{style:{backgroundColor:"#217721",height:30,borderRadius:25,marginLeft:10,marginRight:5,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(L(e._id));case 2:case"end":return t.stop()}}),null,null,null,Promise)}},r.a.createElement(C.b,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{marginLeft:10},size:15}),r.a.createElement(E.a,{style:{color:"white",margin:10,fontWeight:"bold"}},"Join game")))})))),"web"===u.a.OS&&S&&r.a.createElement(i.a,{style:[{width:"100%",height:"100%",position:"absolute",alignContent:"center",justifyContent:"center",backgroundColor:"#21212180"}]},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement(de.a,{size:"large",color:"#f1f1f1"}),r.a.createElement(E.a,{style:{color:"#f1f1f1"}}," Loanding..."))))}"web"!==u.a.OS&&(ge=n(161).AsyncStorage,n(127).default);var we=n(73),be=null;function he(e){var t=Object(a.useState)(null),n=s()(t,2),o=n[0],c=n[1],d=Object(a.useState)(""),p=s()(d,2),w=p[0],b=p[1],h=Object(a.useRef)(null),x=Object(a.useRef)(null);Object(a.useEffect)((function(){return we.a.addListener("keyboardDidShow",v),we.a.addListener("keyboardDidHide",S),function(){we.a.removeListener("keyboardDidShow",v),we.a.removeListener("keyboardDidHide",S)}}),[]);var v=function(){h.current.scrollToEnd({animated:!0})},S=function(){h.current.scrollToEnd({animated:!0})};function O(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(g("/game/message",{game:e,message:w,user:t}).then((function(e){x.current.clear(),b("")})).catch((function(e){})));case 2:case"end":return n.stop()}}),null,null,null,Promise)}function j(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(y("/game/message",{game:e}).then((function(e){c(e.data)})).catch((function(e){})));case 2:case"end":return t.stop()}}),null,null,null,Promise)}Object(a.useEffect)((function(){h.current&&h.current.scrollToEnd({animated:!0})}),[h]),Object(a.useEffect)((function(){!function(){var e,t;l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=null,t=null,"web"===u.a.OS){n.next=11;break}return n.next=5,l.a.awrap(be.getItem("@ocean_king:user",null));case 5:return e=n.sent,n.next=8,l.a.awrap(be.getItem("@ocean_king:username",null));case 8:t=n.sent,n.next=13;break;case 11:e=localStorage.getItem("@ocean_king:user",null),t=localStorage.getItem("@ocean_king:username",null);case 13:null!=e?(R(e),L(t)):(setLoading(!1),reset({index:1,routes:[{name:"Login"}]}));case 14:case"end":return n.stop()}}),null,null,null,Promise)}(),j(e.route.params.room),e.route.params.socket.on("new message sended",(function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(j(e.route.params.room));case 2:case"end":return t.stop()}}),null,null,null,Promise)}))}),[]);var P=Object(a.useState)(null),_=s()(P,2),z=_[0],R=_[1],I=Object(a.useState)(null),T=s()(I,2),L=(T[0],T[1]);return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(i.a,{style:{flex:1,justifyContent:"space-between",marginVertical:20}},r.a.createElement(i.a,null,r.a.createElement(i.a,{style:{height:"90%"}},r.a.createElement(V.a,{style:{flexGrow:0},ref:h,onContentSizeChange:function(e,t){h.current.scrollToEnd({animated:!0})}},o&&o.messages&&0!==o.messages.length&&o.messages.map((function(e,t){return r.a.createElement(i.a,{key:t,style:[m.row,{backgroundColor:e.player._id===z?"#1111ff30":"#f1f1f130",borderRadius:20,paddingHorizontal:10,paddingVertical:10,marginVertical:5,flexDirection:"column",alignItems:e.player._id===z?"flex-end":"flex-start"}]},r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,marginBottom:5,justifyContent:e.player._id===z?"flex-end":"flex-start"}]},r.a.createElement(E.a,{style:{color:"#f1f1f1",fontWeight:"bold",fontSize:17}},e.player.name)),r.a.createElement(E.a,{style:[m.row,{color:"#f1f1f1",textAlign:e.player._id===z?"right":"left",marginHorizontal:0}]},e.message))}))))),r.a.createElement(i.a,{style:m.row},r.a.createElement(i.a,{style:{flex:6}},r.a.createElement(C.d,{ref:x,placeholder:"Message",onChangeText:function(e){b(e)},multiline:!0,errorStyle:{color:"red"},inputStyle:{color:"#f1f1f1"}})),r.a.createElement(i.a,{style:{flex:1}},r.a.createElement(k.a,{style:{width:40,height:40,borderRadius:100,backgroundColor:"rgb(30, 200, 30)",justifyContent:"center",alignItems:"center"},onPress:function(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(O(e.route.params.room,e.route.params.user));case 2:case"end":return t.stop()}}),null,null,null,Promise)}},r.a.createElement(C.b,{name:"arrow-right",color:"white",type:"font-awesome",size:17,iconStyle:{margin:10}}))))))}function Ee(e){return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(V.a,{contentContainerStyle:{flexGrow:1}},r.a.createElement(i.a,{style:[m.row,{justifyContent:"center"}]},r.a.createElement(C.b,{name:"spinner",color:"#f1f1f1",type:"font-awesome",size:18,iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"#f1f1f1",fontSize:30}},"Coming soon..."))))}function xe(e){return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(V.a,{contentContainerStyle:{flexGrow:1}},r.a.createElement(i.a,{style:[m.row,{justifyContent:"center"}]},r.a.createElement(C.b,{name:"spinner",color:"#f1f1f1",type:"font-awesome",size:18,iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"#f1f1f1",fontSize:30}},"Coming soon..."))))}"web"!==u.a.OS&&(be=n(161).AsyncStorage,n(127).default);var ve=null;function Se(e){var t=Object(a.useState)(!1),n=s()(t,2),o=(n[0],n[1]),c=Object(a.useState)(!1),d=s()(c,2),p=(d[0],d[1]),g=e.navigation,y=g.navigate,w=g.reset;j.a.get("window").width;return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(V.a,{contentContainerStyle:{flexGrow:1}},r.a.createElement(i.a,{style:[m.row,{marginHorizontal:20,marginVertical:5,marginTop:20,justifyContent:"flex-start"}]},r.a.createElement(k.a,{style:{alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:y("Profile");case 1:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.b,{name:"user",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Profile"))),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:20,marginVertical:5,justifyContent:"flex-start"}]},r.a.createElement(k.a,{style:{alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:y("Rules");case 1:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.b,{name:"list",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Rules"))),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:20,marginVertical:5,justifyContent:"flex-start"}]},r.a.createElement(k.a,{style:{alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:y("Credits");case 1:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.b,{name:"copyright",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Credits"))),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:20,marginVertical:5,justifyContent:"flex-start"}]},r.a.createElement(k.a,{style:{alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),e.next=5;break;case 5:return e.prev=5,e.next=8,l.a.awrap(W.b());case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),o(e.t0.message);case 13:if("web"===u.a.OS){e.next=20;break}return e.next=16,l.a.awrap(ve.removeItem("@ocean_king:user"));case 16:return e.next=18,l.a.awrap(ve.removeItem("@ocean_king:username"));case 18:e.next=22;break;case 20:localStorage.removeItem("@ocean_king:user"),localStorage.removeItem("@ocean_king:username");case 22:p(!1),w({index:1,routes:[{name:"Login"}]});case 24:case"end":return e.stop()}}),null,null,[[5,10]],Promise)}},r.a.createElement(C.b,{name:"sign-out",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Logout")))))}"web"!==u.a.OS&&(ve=n(161).AsyncStorage,n(127).default);var Ce=n(133);function Oe(e){return r.a.createElement(Ce.a,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(ce,{pontuations:e.route.params.pontuations}))}function ke(e){var t=Object(a.useState)(null),n=s()(t,2),o=n[0],c=n[1],d=Object(a.useState)(!1),p=s()(d,2),g=p[0],w=p[1],b=Object(a.useState)("players"),h=s()(b,2),x=h[0],v=h[1],S=Object(a.useState)("points"),O=s()(S,2),P=O[0],_=O[1];function z(e){var t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(w(!0),"players"!==e){n.next=6;break}return n.next=4,l.a.awrap(y("/game/scoreboards/scores",{}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:w(!1),c(e.data.sort((function(e,t){return"points"===P?-(e.points-t.points):"wins"===P?-(e.wins-t.wins):"right_bets"===P?-(e.right_bets/(10*e.games)-t.right_bets/(10*t.games)):"max_score"===P?-(e.max_score-t.max_score):void 0})));case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){w(!1)})));case 4:n.next=9;break;case 6:return t="players"===e?P?e+"/"+P:e+"/points":e,n.next=9,l.a.awrap(y("/game/scoreboards/"+t,{}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:w(!1),c(e.data);case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){w(!1)})));case 9:case"end":return n.stop()}}),null,null,null,Promise)}Object(a.useEffect)((function(){x&&z(x)}),[x]);var R=j.a.get("window").width;return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(V.a,{contentContainerStyle:{flexGrow:1},refreshControl:r.a.createElement(M.a,{refreshing:g,onRefresh:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:z(x);case 1:case"end":return e.stop()}}),null,null,null,Promise)}})},x&&r.a.createElement(i.a,null,r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"web"===u.a.OS?"center":"space-between"}]},r.a.createElement(k.a,{style:{backgroundColor:"players"===x?"#27496d":"#27496d80",height:50,width:"web"===u.a.OS?240:(R-45)/2,borderRadius:25,marginLeft:"web"===u.a.OS?0:15,marginRight:"web"===u.a.OS?10:null,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:v("players");case 1:case"end":return e.stop()}}),null,null,null,Promise)}},r.a.createElement(C.b,{name:"gamepad",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Players")),r.a.createElement(k.a,{style:{backgroundColor:"games"===x?"#27496d":"#27496d80",height:50,width:"web"===u.a.OS?240:(R-45)/2,borderRadius:25,marginLeft:"web"===u.a.OS?10:null,marginRight:"web"===u.a.OS?0:15,marginVertical:10,alignItems:"center",justifyContent:"center",shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:5,flexDirection:"row"},onPress:function(){v("games")}},r.a.createElement(C.b,{name:"list",color:"white",type:"font-awesome",iconStyle:{margin:10}}),r.a.createElement(E.a,{style:{color:"white",margin:5,fontWeight:"bold"}},"Games"))),"players"===x&&r.a.createElement(i.a,null,r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"web"===u.a.OS?"center":"space-between"}]},r.a.createElement(k.a,{style:{height:50,width:"web"===u.a.OS?240:(R-45)/2,marginLeft:"web"===u.a.OS?0:15,marginRight:"web"===u.a.OS?10:null,marginTop:10,alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=o.sort((function(e,t){return-(e.points-t.points)})),c(e),_("points");case 3:case"end":return t.stop()}}),null,null,null,Promise)}},r.a.createElement(E.a,{style:{color:P?"points"===P?"#f1f1f1":"#f1f1f130":"#f1f1f1",margin:5,fontWeight:"bold"}},"Points")),r.a.createElement(k.a,{style:{height:50,width:"web"===u.a.OS?240:(R-45)/2,marginLeft:"web"===u.a.OS?0:15,marginRight:"web"===u.a.OS?10:null,marginTop:10,alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){var e=o.sort((function(e,t){return-(e.wins-t.wins)}));c(e),_("wins")}},r.a.createElement(E.a,{style:{color:P&&"wins"===P?"#f1f1f1":"#f1f1f130",margin:5,fontWeight:"bold"}},"Wins"))),r.a.createElement(i.a,{style:[m.row,{marginHorizontal:0,justifyContent:"web"===u.a.OS?"center":"space-between"}]},r.a.createElement(k.a,{style:{height:50,width:"web"===u.a.OS?240:(R-45)/2,marginLeft:"web"===u.a.OS?0:15,marginRight:"web"===u.a.OS?10:null,marginBottom:10,alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=o.sort((function(e,t){return-(e.right_bets/(10*e.games)-t.right_bets/(10*t.games))})),c(e),_("right_bets");case 3:case"end":return t.stop()}}),null,null,null,Promise)}},r.a.createElement(E.a,{style:{color:P?"right_bets"===P?"#f1f1f1":"#f1f1f130":"#f1f1f1",margin:5,fontWeight:"bold"}},"Right bets")),r.a.createElement(k.a,{style:{height:50,width:"web"===u.a.OS?240:(R-45)/2,marginLeft:"web"===u.a.OS?0:15,marginRight:"web"===u.a.OS?10:null,marginBottom:10,alignItems:"center",justifyContent:"center",flexDirection:"row"},onPress:function(){var e=o.sort((function(e,t){return-(e.max_score-t.max_score)}));c(e),_("max_score")}},r.a.createElement(E.a,{style:{color:P&&"max_score"===P?"#f1f1f1":"#f1f1f130",margin:5,fontWeight:"bold"}},"Max scores"))))),r.a.createElement(i.a,{style:{marginVertical:20}},x&&"players"===x&&o&&o.map((function(t,n){return r.a.createElement(k.a,{style:[m.row,{marginVertical:5}],key:n,onPress:function(){e.navigation.navigate("Profile",{user:t.player._id})}},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center"}},n<3&&r.a.createElement(C.b,{name:"trophy",color:0===n?"#CCA700":1===n?"#C0C0C0":2===n?"#cd853f":"#f1f1f1",type:"font-awesome",iconStyle:{marginRight:10}}),r.a.createElement(E.a,{style:{color:0===n?"#CCA700":1===n?"#C0C0C0":2===n?"#cd853f":"#f1f1f1",fontWeight:n<3?"bold":"normal",fontSize:0===n?22:1===n?20:2===n?18:15}},t.player&&t.player.name)),r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center"}},r.a.createElement(E.a,{style:{color:0===n?"#CCA700":1===n?"#C0C0C0":2===n?"#cd853f":"#f1f1f1",fontWeight:n<3?"bold":"normal",fontSize:0===n?22:1===n?20:2===n?18:15}},P&&"points"===P&&t.points,P&&"wins"===P&&t.wins,P&&"right_bets"===P&&(t.right_bets/(10*t.games)*100).toFixed(1)+"%",P&&"max_score"===P&&t.max_score)))}))),r.a.createElement(i.a,{style:{marginBottom:20}},x&&"games"===x&&o&&o.map((function(t,n){return r.a.createElement(i.a,{style:{marginTop:0!==n?20:0,borderRadius:20,marginHorizontal:10,padding:10,backgroundColor:"#f1f1f110"},key:n},r.a.createElement(k.a,{onPress:function(){e.navigation.navigate("Rounds",{game:t._id})}},r.a.createElement(i.a,{style:{flexDirection:"row"}},r.a.createElement(i.a,{style:{flex:8}},r.a.createElement(i.a,{style:[m.row]},r.a.createElement(E.a,{style:{color:"#f1f1f1",fontWeight:"bold",fontSize:15}},t&&t.scores&&t.scores[0]&&t.scores[0].player&&t.scores[0].player.name),r.a.createElement(E.a,{style:{color:"#f1f1f1",fontWeight:"bold",fontSize:15}},t&&t.scores&&t.scores[0]&&t.scores[0].player&&t.scores[0].points)),r.a.createElement(i.a,null,t.scores&&t.scores.map((function(e,t){if(0!==t)return r.a.createElement(i.a,{style:m.row,key:t},r.a.createElement(E.a,{style:{color:"#f1f1f1"}},e.player.name),r.a.createElement(E.a,{style:{color:"#f1f1f1"}},e.points))})))),r.a.createElement(i.a,{style:{flex:1,justifyContent:"center"}},r.a.createElement(C.b,{name:"arrow-right",color:"#f1f1f1",type:"font-awesome",size:18,iconStyle:{margin:10}})))))})))))}"web"!==u.a.OS&&(n(161).AsyncStorage,n(127).default);var je=n(272),Pe=n(36),_e=n(26);function ze(e){var t=Object(a.useState)(null),n=s()(t,2),o=n[0],c=n[1],u=Object(a.useState)(null),d=s()(u,2),p=(d[0],d[1]),g=Object(a.useState)(!1),w=s()(g,2),b=w[0],h=w[1],x=Object(a.useState)(null),v=s()(x,2),S=(v[0],v[1]),O=Object(a.useState)(null),k=s()(O,2),P=k[0],_=k[1],z=Object(a.useState)(null),I=s()(z,2),T=I[0],L=I[1],W=Object(a.useState)(null),A=s()(W,2),H=A[0],D=A[1],B=e.navigation.reset;function G(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:h(!0),y("/auth/user/",{user:e.route&&e.route.params&&null!==e.route.params.user?e.route.params.user:o}).then((function(e){_(e.data.temp_user),h(!1)})).catch((function(e){h(!1),S("Ocorreu um erro. Por favor, tente novamente mais tarde.")}));case 2:case"end":return t.stop()}}),null,null,null,Promise)}Object(a.useEffect)((function(){h(!0),function(){var e,t,n;l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(R(B,!0));case 2:e=a.sent,t=e.user,n=e.username,c(t),p(n);case 7:case"end":return a.stop()}}),null,null,null,Promise)}(),h(!1)}),[]),Object(a.useEffect)((function(){o&&G()}),[o]),Object(a.useEffect)((function(){null!==P&&y("/game/scoreboards/scores",{user:e.route&&e.route.params&&null!==e.route.params.user?e.route.params.user:o}).then((function(e){L(e.data),h(!1)})).catch((function(e){h(!1),S("Ocorreu um erro. Por favor, tente novamente mais tarde.")}))}),[P]),Object(a.useEffect)((function(){T&&D([{label:"Round 1",value:T.rb_at_1},{label:"Round 2",value:T.rb_at_2},{label:"Round 3",value:T.rb_at_3},{label:"Round 4",value:T.rb_at_4},{label:"Round 5",value:T.rb_at_5},{label:"Round 6",value:T.rb_at_6},{label:"Round 7",value:T.rb_at_7},{label:"Round 8",value:T.rb_at_8},{label:"Round 9",value:T.rb_at_9},{label:"Round 10",value:T.rb_at_10}])}),[T]);return r.a.createElement(f.c,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(V.a,{contentContainerStyle:{flexGrow:1},refreshControl:r.a.createElement(M.a,{refreshing:b,onRefresh:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:G();case 1:case"end":return e.stop()}}),null,null,null,Promise)}})},P&&r.a.createElement(i.a,{style:[m.row,{justifyContent:"center",margin:10,flexWrap:"wrap"}]},P.photo&&r.a.createElement(C.a,{rounded:!0,size:"large",source:{uri:P.photo}}),r.a.createElement(i.a,{style:{margin:10,justifyContent:"center",alignItems:"center"}},r.a.createElement(E.a,{style:{color:"#f1f1f1",fontSize:20}},P.name),r.a.createElement(E.a,{style:{color:"#f1f1f180",fontSize:15,textAlign:"justify"}},P.email))),T&&r.a.createElement(i.a,null,r.a.createElement(i.a,{style:[m.row,{marginTop:20}]},r.a.createElement(E.a,{style:{fontSize:18,color:"#f1f1f1"}},"Points: ",T.points)),r.a.createElement(i.a,{style:m.row},r.a.createElement(E.a,{style:{fontSize:18,color:"#f1f1f1"}},"Games: ",T.games)),r.a.createElement(i.a,{style:m.row},r.a.createElement(E.a,{style:{fontSize:18,color:"#f1f1f1"}},"Wins: ",T.wins)),r.a.createElement(i.a,{style:m.row},r.a.createElement(E.a,{style:{fontSize:18,color:"#f1f1f1"}},"Max score: ",T.max_score)),r.a.createElement(i.a,{style:m.row},r.a.createElement(E.a,{style:{fontSize:18,color:"#f1f1f1"}},"Entry plays: ",T.entry_plays)),r.a.createElement(i.a,{style:m.row},r.a.createElement(E.a,{style:{fontSize:18,color:"#f1f1f1"}},"Entry wins:"," ",(T.entry_wins/T.entry_plays*100).toFixed(1),"%")),r.a.createElement(i.a,{style:[m.row,{justifyContent:"flex-start"}]},r.a.createElement(E.a,{style:{fontSize:18,color:"#f1f1f1"}},"Right bets:"," ",(T.right_bets/(10*T.games)*100).toFixed(1),"%"," "),r.a.createElement(E.a,{style:{fontSize:15,color:"#f1f1f180"}},"(Zero bets:"," ",(T.right_bets_zero/(10*T.games)*100).toFixed(1),"%)")),H&&r.a.createElement(i.a,{style:{marginTop:20}},r.a.createElement(i.a,{style:[m.row,{justifyContent:"center"}]},r.a.createElement(E.a,{style:{fontSize:18,color:"#f1f1f1"}},"Right bets by round")),r.a.createElement(i.a,{style:[m.row,{flexDirection:"row",height:300,width:j.a.get("window").width}]},r.a.createElement(je.b,{data:H,yAccessor:function(e){return e.index},scale:Pe.a,contentInset:{top:10,bottom:10},spacing:.2,svg:{fill:"#f1f1f1"},formatLabel:function(e,t){return H[t].label}}),r.a.createElement(je.a,{style:{marginLeft:8,flex:1},horizontal:!0,data:H,svg:{fill:"#27496d"},yMin:0,yMax:T.games+1,yAccessor:function(e){return e.item.value},contentInset:{top:10,bottom:10},spacing:.2},r.a.createElement((function(e){var t=e.x,n=e.y,a=e.bandwidth;return e.data.map((function(e,o){return r.a.createElement(_e.g,{key:o,x:t(e.value)+10,y:n(o)+a/2,fontSize:14,fill:"#f1f1f1",alignmentBaseline:"middle"},e.value)}))}),null)))))))}function Re(e){var t=Object(a.useState)(!1),n=s()(t,2),o=n[0],c=n[1],u=Object(a.useState)(null),f=s()(u,2),d=f[0],p=f[1],g=Object(a.useState)(!1),w=s()(g,2),b=w[0],h=w[1],x=Object(a.useState)(null),v=s()(x,2),S=v[0],O=v[1],j=Object(a.useState)(null),P=s()(j,2),_=P[0],z=P[1];function R(){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,l.a.awrap(y("/game/rounds",{game:e.route.params.game}).then((function(e){return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:c(!1),p(e.data.rounds);case 2:case"end":return t.stop()}}),null,null,null,Promise)})).catch((function(e){c(!1)})));case 3:case"end":return t.stop()}}),null,null,null,Promise)}return Object(a.useEffect)((function(){R()}),[]),r.a.createElement(Ce.a,{style:{flex:1,backgroundColor:"#212121"}},r.a.createElement(V.a,{contentContainerStyle:{flexGrow:1},refreshControl:r.a.createElement(M.a,{refreshing:o,onRefresh:function(){return l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:R();case 1:case"end":return e.stop()}}),null,null,null,Promise)}})},r.a.createElement(i.a,{style:{marginVertical:20}},d&&d.map((function(e,t){return r.a.createElement(i.a,{style:{marginTop:0!==t?20:0,borderRadius:20,marginHorizontal:10,padding:10,backgroundColor:"#f1f1f110"},key:t},r.a.createElement(i.a,{style:m.row},r.a.createElement(E.a,{style:{fontSize:15,color:"#f1f1f1",fontWeight:"bold",marginBottom:5}},"Round ",e.roundNumber)),e.rel_plays.map((function(t,n){return r.a.createElement(k.a,{style:[m.row,{backgroundColor:"#f1f1f120",paddingVertical:5,paddingHorizontal:10,borderRadius:20,marginVertical:5}],onPress:function(){O(t),z(e.winner[n]),h(!0)},key:n},r.a.createElement(i.a,{style:{flexDirection:"row",alignItems:"center"}},r.a.createElement(E.a,{style:{color:"#f1f1f1"}},"Turn ",n+1),r.a.createElement(C.b,{name:"arrow-right",color:"white",type:"font-awesome",size:10,iconStyle:{marginHorizontal:5}}),r.a.createElement(E.a,{style:{color:"#f1f1f1"}},e.winner[n].name)),r.a.createElement(C.b,{name:"plus",color:"white",type:"font-awesome",size:15,iconStyle:{marginHorizontal:5}}))})))})))),r.a.createElement(q,{visible:b,content:r.a.createElement(i.a,{style:{flexDirection:"column",flex:1}},r.a.createElement(i.a,{style:{flexDirection:"row",justifyContent:"flex-end",marginHorizontal:20}},r.a.createElement(k.a,{style:{width:40,height:40,borderRadius:80,backgroundColor:"#f1f1f1",alignItems:"center",justifyContent:"center"},onPress:function(){O(null),z(null),h(!1)}},r.a.createElement(C.b,{name:"times",color:"#212121",type:"font-awesome",size:20,iconStyle:{margin:10}}))),r.a.createElement(i.a,{style:[m.row,{justifyContent:"center",flexWrap:"wrap",margin:0,marginTop:50}]},S&&_&&S.card&&S.card.map((function(e,t){return r.a.createElement(i.a,{key:t,style:{alignItems:"center",margin:10}},r.a.createElement(E.a,{style:{color:S.player[t]!==_.player?"#f1f1f1":"#21b121",fontWeight:S.player[t]!==_.player?"normal":"bold"}},S.name[t].split(" ")[0]),r.a.createElement(oe,{color:e[0].color,value:e[0].value,overlay:!1}))}))))}))}var Ie=n(722),Te=Object(Ie.a)();var Le=function(){return r.a.createElement(Te.Navigator,{initialRouteName:"Login",screenOptions:{headerTintColor:"white"}},r.a.createElement(Te.Screen,{name:"Login",component:B,options:{headerShown:!1}}),r.a.createElement(Te.Screen,{name:"Join",component:ye,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Join game"}}),r.a.createElement(Te.Screen,{name:"Chat",component:he,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Chat"}}),r.a.createElement(Te.Screen,{name:"Rules",component:Ee,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Rules"}}),r.a.createElement(Te.Screen,{name:"Credits",component:xe,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Credits"}}),r.a.createElement(Te.Screen,{name:"Settings",component:Se,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Options"}}),r.a.createElement(Te.Screen,{name:"Scoreboards",component:ke,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Scoreboards"}}),r.a.createElement(Te.Screen,{name:"Game",component:me,options:{headerShown:!1}}),r.a.createElement(Te.Screen,{name:"Home",component:L,options:{headerShown:!1}}),r.a.createElement(Te.Screen,{name:"Pontuations",component:Oe,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Scores"}}),r.a.createElement(Te.Screen,{name:"Profile",component:ze,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Profile"}}),r.a.createElement(Te.Screen,{name:"Rounds",component:Re,options:{headerStyle:{backgroundColor:"#212121"},headerTitleStyle:{color:"white"},title:"Rounds"}}))},We=n(92),Ae=n(415),He=n(352);function De(){return r.a.createElement(i.a,{style:{flex:1}},r.a.createElement(f.b,null,r.a.createElement(J.a,{backgroundColor:"#212121",barStyle:"light-content"}),r.a.createElement(He.a,null,r.a.createElement(Ae.a,{store:re},r.a.createElement(Le,null)))))}"web"===u.a.OS&&(We.a.registerComponent("App",(function(){return De})),We.a.runApplication("App",{rootTag:document.getElementById("root")}));t.a=De},426:function(e,t,n){n(427),n(428),e.exports=n(708)},427:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/ocean_king/expo-service-worker.js",{scope:"/ocean_king/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},625:function(e,t,n){e.exports=n.p+"static/media/ocean_king.3744a6e1.png"},664:function(e,t){},667:function(e,t,n){e.exports=n.p+"static/media/red.83fdd3cd.png"},668:function(e,t,n){e.exports=n.p+"static/media/blue.c72839d4.png"},669:function(e,t,n){e.exports=n.p+"static/media/yellow.6d942fd7.png"},670:function(e,t,n){e.exports=n.p+"static/media/black.3809fdb9.png"},671:function(e,t,n){e.exports=n.p+"static/media/mermaid_1.e297e69a.png"},672:function(e,t,n){e.exports=n.p+"static/media/mermaid_2.04a0f883.png"},673:function(e,t,n){e.exports=n.p+"static/media/pirate_3.ddd99f7d.png"},674:function(e,t,n){e.exports=n.p+"static/media/king.e4050818.png"},675:function(e,t,n){e.exports=n.p+"static/media/v1.93ccb8e4.png"},676:function(e,t,n){e.exports=n.p+"static/media/v2.b6bff9c6.png"},677:function(e,t,n){e.exports=n.p+"static/media/v3.42facb36.png"},678:function(e,t,n){e.exports=n.p+"static/media/v4.eb7f9b12.png"},679:function(e,t,n){e.exports=n.p+"static/media/v5.b2abb382.png"},680:function(e,t,n){e.exports=n.p+"static/media/v6.817877c3.png"},681:function(e,t,n){e.exports=n.p+"static/media/v7.1164fd71.png"},682:function(e,t,n){e.exports=n.p+"static/media/v8.8d95d18e.png"},683:function(e,t,n){e.exports=n.p+"static/media/v9.85e8f6a9.png"},684:function(e,t,n){e.exports=n.p+"static/media/v10.5c0ec648.png"},685:function(e,t,n){e.exports=n.p+"static/media/v11.a1e8b365.png"},686:function(e,t,n){e.exports=n.p+"static/media/v12.4400bde2.png"},687:function(e,t,n){e.exports=n.p+"static/media/v13.c321b579.png"},688:function(e,t,n){e.exports=n.p+"static/media/back.68a8d42f.png"},689:function(e,t,n){e.exports=n.p+"static/media/scary_mary.cd29403d.png"}},[[426,1,2]]]);
//# sourceMappingURL=app.77359084.chunk.js.map